# ç®—æ³•è¯¾ç¬”è®°(ä¸Šéƒ¨)

## ç¬¬äºŒç«  ä½è¿ç®—

### åŸºç¡€çŸ¥è¯†

è®¡ç®—æœºä¸­å¯¹äºŒè¿›åˆ¶æ•°çš„è¡¨ç¤ºé€»è¾‘ï¼š

æ­£æ•°ï¼šæ­£å¸¸è¡¨ç¤ºï¼Œæœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œ0ä¸ºæ­£ï¼Œ1ä¸ºè´Ÿ

è´Ÿæ•°ï¼šæœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œ0ä¸ºæ­£ï¼Œ1ä¸ºè´Ÿï¼Œè¡¥ç è¡¨ç¤ºï¼ˆåŸç å–ååŠ ä¸€ï¼‰

å› æ­¤ï¼Œä¸€ä¸ªByte(8ä½äºŒè¿›åˆ¶)å–å‡ºæœ€é«˜ä½ç¬¦å·ä½ä¹‹å¤–ï¼Œæœ€å¤§å¯ä»¥è¡¨ç¤ºçš„æ•°å­—å°±æ˜¯127(0111 1111)ï¼Œç…§ç†æ¥è¯´è´Ÿæ•°ä¹ŸåŒç†ï¼Œä½†æ˜¯è¿™é‡Œå­˜åœ¨ä¸€ä¸ªç‰¹æ®Šçš„æƒ…å†µ1000 0000ï¼ŒæŒ‰ç…§å‰é¢çš„è¯´æ³•æ˜¯-0ï¼Œè¿™ä¸ªæ•°å­—æ²¡æœ‰æ„ä¹‰ï¼Œå› æ­¤æŠŠè¿™ä¸ªæ•°å­—å®šä¹‰ä¸º-128ï¼Œå› æ­¤ä¸€ä¸ªByteçš„è¡¨ç¤ºèŒƒå›´å°±å˜æˆ(-128~127)

ç§»ä½æ“ä½œï¼š>>/<< ç§»åŠ¨æ—¶ç¬¦å·ä½å‡ä¿æŒä¸å˜ã€‚

### ä¾‹é¢˜

> **å¼‚æˆ–ç”¨äºè§£å†³é—®é¢˜**

136: åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—

389: æ‰¾ä¸åŒ

> **n&(n-1)è¿ç®—è§£å†³é—®é¢˜**

è¿™ä¸ªä¸œè¥¿æœ‰ä¸¤ç§ç”¨é€”ï¼š

1. **åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸º2çš„æ•´æ•°æ¬¡å¹‚**

è‹¥n&(n-1)ä¸º0ï¼Œ åˆ™ç¡®è®¤ä¸º2çš„æ•´æ•°æ¬¡å¹‚

ä¾‹é¢˜ï¼š231

2. **n &= n - 1**

**è¿™ä¸ªè¿ç®—å¯ä»¥å°†åŸäºŒè¿›åˆ¶æ•°nçš„æœ€åä¸€ä½1æ”¹ä¸º0ï¼Œå…¶ä»–æ•°å­—ç»´æŒä¸å˜ã€‚**

ä¾‹é¢˜ï¼šå‰‘æŒ‡Offer15 äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°ï¼š

```java
public int hammingWeight(int n) {
    int res = 0;
    while (n != 0) {
        n &= n - 1;
        res++;
    }
    return res;
}
```



ä¾‹é¢˜ï¼š191

æ³¨ï¼š191è¦æ±‚å·²æ— ç¬¦å·æ•´å‹çš„è§’åº¦æ¥å¯¹å¾…è¾“å…¥ï¼Œå®é™…ä¸Šå› ä¸ºé‡‡ç”¨äº†ä½è¿ç®—å½¢å¼ï¼Œæ‰€ä»¥æœ¬èº«ç¬¦å·ä½ä¹Ÿå‚ä¸è¿ç®—ï¼Œä¹Ÿå°±æ˜¯è¯´æœ¬èº«è¿™ç§æ–¹æ³•å°±æ˜¯ç¬¦åˆé¢˜æ„çš„ï¼Œæ— éœ€å†è¡Œå¤„ç†ã€‚

> é’ˆå¯¹æ•°æ®é‡å¾ˆå¤§çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨BitMapæ€æƒ³å¤„ç†ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ä¸€ä¸ªç±»ä¼¼äºæ•£åˆ—è¡¨çš„æ€æƒ³ï¼Œè¿™é‡Œå¯ä»¥ç”¨åˆ°ä¸€ä¸ªç‰¹æ®Šçš„javaæ•°æ®ç±»å‹ï¼ŒbitSetï¼Œæä¾›äº†è®¾ç½®ä¸åŒä½æ•°å–å€¼çš„åŠŸèƒ½ã€‚

ä¾‹é¢˜ï¼š318

```java
ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„Â wordsï¼Œæ‰¾åˆ°Â length(word[i]) * length(word[j])Â çš„æœ€å¤§å€¼ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªå•è¯ä¸å«æœ‰å…¬å…±å­—æ¯ã€‚ä½ å¯ä»¥è®¤ä¸ºæ¯ä¸ªå•è¯åªåŒ…å«å°å†™å­—æ¯ã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„ä¸¤ä¸ªå•è¯ï¼Œè¿”å› 0ã€‚

ç¤ºä¾‹Â 1:

è¾“å…¥: ["abcw","baz","foo","bar","xtfn","abcdef"]
è¾“å‡º: 16 
è§£é‡Š: è¿™ä¸¤ä¸ªå•è¯ä¸º "abcw", "xtfn"ã€‚
ç¤ºä¾‹ 2:

è¾“å…¥: ["a","ab","abc","d","cd","bcd","abcd"]
è¾“å‡º: 4 
è§£é‡Š: è¿™ä¸¤ä¸ªå•è¯ä¸º "ab", "cd"ã€‚
ç¤ºä¾‹ 3:

è¾“å…¥: ["a","aa","aaa","aaaa"]
è¾“å‡º: 0 
è§£é‡Š: ä¸å­˜åœ¨è¿™æ ·çš„ä¸¤ä¸ªå•è¯ã€‚

æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/maximum-product-of-word-lengths
è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

ä¸Šé¢è¿™ä¸ªé¢˜æœ‰ä¸¤ä¸ªåŸºæœ¬æ€è·¯ï¼š

1. èŠ‚çœåˆ¤å®šä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æœ‰å…¬å…±å­—ç¬¦çš„æ—¶é—´ï¼š

è¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç ä¸ºintå‹(è¿™é‡Œå‡å®šéƒ½ä¸º)ï¼Œè€Œåå¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²è¿›è¡Œ&æ“ä½œï¼Œè‹¥ç»“æœä¸º0ï¼Œåˆ™è¯´æ˜äºŒè€…æ²¡æœ‰å…¬å…±å­—ç¬¦ä¸²ã€‚

2. èŠ‚çœä¸¤ä¸¤éå†å­—ç¬¦ä¸²çš„æ—¶é—´

è¿™ä¸ªä¹Ÿæ¯”è¾ƒå¥½ç†è§£ï¼Œå¦‚æœç›´æ¥éå†çš„è¯ï¼Œä¼šå¼•å…¥O(N^2)çš„æ—¶é—´å¤æ‚åº¦ï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡å°†æ‹¥æœ‰ç›¸åŒç¼–ç ï¼ˆä¹Ÿå°±æ˜¯ç”¨ç”¨ç›¸åŒå­—ç¬¦ç»„æˆï¼‰çš„å­—ç¬¦ä¸²ç®€åŒ–ï¼Œåªä¿ç•™æœ€é•¿çš„é‚£ä¸ªè¿›è¡Œè¿ç®—(å®é™…ä¸Šæ˜¯é€šè¿‡HashMapå®ç°çš„)ã€‚

ä»£ç å¦‚ä¸‹ï¼š

```java
//318. æœ€å¤§å•è¯é•¿åº¦ä¹˜ç§¯
public int maxProduct(String[] words) {
    int[] targets = new int[words.length];
    Map<Integer, Integer> resMap = new HashMap<>();
    for (int i = 0; i < words.length; i++) {
        String s = words[i];
        int val = 0;
        for (int j = 0; j < s.length(); j++) {
            val |= (1 << (s.charAt(j) - 'a'));
        }
        targets[i] = val;
        if (resMap.get(val) == null || resMap.get(val) <= s.length()) {
            resMap.put(val, s.length());
        }
    }
    int max = 0;
    for (int i : resMap.keySet()) {
        for (int j : resMap.keySet()) {
            if ((i & j) == 0 && resMap.get(i) * resMap.get(j) >= max) {
                max = resMap.get(i) * resMap.get(j);
            }
        }
    }
    return max;
}
```

ä¾‹é¢˜ï¼š

```
//å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°
ä¸€ä¸ªæ•´å‹æ•°ç»„ nums é‡Œé™¤ä¸¤ä¸ªæ•°å­—ä¹‹å¤–ï¼Œå…¶ä»–æ•°å­—éƒ½å‡ºç°äº†ä¸¤æ¬¡ã€‚è¯·å†™ç¨‹åºæ‰¾å‡ºè¿™ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—ã€‚è¦æ±‚æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(1)ã€‚
```

è¿™ä¸ªé¢˜æ¯”ä¹‹å‰é‚£ä¸ªéƒ½è¦å¤æ‚ä¸€äº›ï¼Œå¦‚æœæ˜¯æ‰¾ä¸€ä¸ªçš„è¯ï¼Œåªè¦ç›´æ¥å¼‚æˆ–å°±å®Œäº‹äº†ï¼Œä½†æ‰¾ä¸¤ä¸ªæ˜¾ç„¶ä¸è¡Œï¼Œè¿™é‡Œçš„æ€è·¯æ˜¯â€œ**åˆ†ç»„å¼‚æˆ–**â€ï¼Œä¹Ÿå°±æ˜¯éœ€è¦æŠŠåŸæ•°ç»„åˆ†ä¸ºä¸¤ç»„ï¼Œä¿è¯ï¼š

1. ä¸€å¯¹ç›¸åŒçš„æ•°å­—éƒ½åœ¨åŒä¸€ç»„ã€‚
2. è¦æ‰¾çš„ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°å­—åˆ†åˆ«åœ¨ä¸¤ä¸ªä¸åŒçš„ç»„ã€‚

è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œçœ‹ä¼¼å¾ˆéš¾ï¼Œå®é™…ä¸Šè¿˜æ˜¯æœ‰åŠæ³•çš„ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå‡è®¾æˆ‘ä»¬è¦æ‰¾çš„æ•°å­—ä¸ºaã€bï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥å¯¹æ•´ä¸ªæ•°ç»„å…¨éƒ¨è¿›è¡Œå¼‚æˆ–ï¼Œæœ€ç»ˆå¾—åˆ°çš„ç»“æœå¿…å®šæ˜¯a^bï¼Œå¯¹ä»–è¿›è¡ŒäºŒè¿›åˆ¶è¡¨ç¤ºï¼Œé‚£ä¹ˆæ¯ä¸ªäºŒè¿›åˆ¶ä½ä¸Šå¯¹åº”çš„æ•°å­—ä»£è¡¨ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ¯”æ–¹è¯´ï¼Œæˆ‘ä»¬å–å…¶ä¸­ä¸€ä½xi(iä¸ºä½æ•°)ï¼Œxiå¦‚æœå–0ï¼Œé‚£å°±è¯´æ˜aå’Œbä¸¤ä¸ªæ•°å­—åœ¨ç¬¬iä½äºŒè¿›åˆ¶ä¸Šå–å€¼ç›¸åŒï¼Œåä¹‹åˆ™å–å€¼ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥ä»è¿™ä¸€ç‚¹å…¥æ‰‹åšæ–‡ç« ï¼š

é¦–å…ˆç›´æ¥å…¨ä½“å¼‚æˆ–æ‰¾åˆ°a^bï¼Œè€Œåéšä¾¿æ‰¾ä¸€ä¸ªä¸º1çš„ä½æ•°ï¼Œè€Œåï¼Œå°†å…¨éƒ¨æ•°å­—ä¸­è¯¥ä½ä¸º1çš„æ”¾åœ¨ä¸€ç»„ï¼Œä¸º0çš„æ”¾åœ¨å¦å¤–ä¸€ç»„ï¼Œå³å¯æ»¡è¶³æˆ‘ä»¬çš„1ï¼Œ2æ¡ä»¶ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸‹ï¼Œé¦–å…ˆä»…å¯¹äºaã€bä¸¤ä¸ªæ•°å­—è€Œè¨€ï¼Œè¿™æ ·ä»¥æ¥è‚¯å®šæ˜¯è¢«åˆ†åœ¨ä¸åŒç»„äº†ï¼Œæ‰€ä»¥2æ˜¯æ»¡è¶³çš„ï¼Œè€Œå¯¹äº1ï¼Œä¹Ÿå¥½ç†è§£ï¼Œä¸¤ä¸ªç›¸åŒçš„æ•°å­—ï¼Œé‚£ä¹ˆåœ¨æˆ‘ä»¬é€‰å–çš„äºŒè¿›åˆ¶ä½ä¸Šå–å€¼è‚¯å®šä¹Ÿç›¸åŒè¿‡ï¼Œå› æ­¤ä»–ä»¬ä¹Ÿä¼šè¢«å®‰å…¨çš„åˆ†åˆ°åŒä¸€ç»„ï¼Œå¤§åŠŸå‘Šæˆï¼Œè¿™é‡Œæˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿ èµ·è§ï¼Œé€‰å–çš„äºŒè¿›åˆ¶ä½ç›´æ¥å°±æ˜¯æœ€ä½çš„ä¸º1çš„é‚£ä¸€ä½ï¼Œç­”æ¡ˆå¦‚ä¸‹ï¼Œæ³¨æ„ï¼Œ0ä¸ä»»ä½•æ•°å¼‚æˆ–éƒ½ç­‰äºå®ƒæœ¬èº«ï¼Œå› æ­¤å¯ä»¥å°†0ä½œä¸ºå¼‚æˆ–çš„åˆå§‹å€¼ã€‚

```java
public int[] singleNumbers(int[] nums) {
    int test = nums[0];
    for (int i = 1; i < nums.length; i++) {
        test ^= nums[i];
    }
    int mod = 1;
    while ((mod & test) == 0) {
        mod = mod << 1;
    }
    int a = 0, b = 0;
    for (int num : nums) {
        if ((num & mod) != 0) {
            a ^= num;
        } else {
            b ^= num;
        }
    }
    return new int[]{a, b};
}
```



## ç¬¬ä¸‰ç« 

### 3-2 è¶Šç•Œ

åˆ¤æ–­è®¡ç®—åæ•°å­—æ˜¯å¦è¶Šç•Œçš„ä¸¤ç§æ–¹å¼ï¼š

1. ä½¿ç”¨longå‹æ¥å—è®¡ç®—åçš„æ•°å­—ï¼Œè€ŒåæŠŠä¹‹ä¸intçš„æœ€å¤§å€¼/æœ€å°å€¼æ¯”è¾ƒå³å¯ã€‚
2. ä½¿ç”¨intå‹æ¥å—è®¡ç®—åçš„æ•°å­—ï¼Œè€Œåè¿›è¡Œé€†è¿ç®—ï¼Œçœ‹ç»“æœä¸åŸå€¼æ˜¯å¦ç›¸åŒï¼ˆå› ä¸ºè¶Šç•Œçš„åŸå› ï¼Œè®¡ç®—åæ•°å­—è¾ƒåŸæœ‰çš„æ­£å¸¸è®¡ç®—å€¼å‘ç”Ÿè¾ƒå¤§å˜åŒ–ï¼Œå› æ­¤å¯ç”¨é€†è¿ç®—æ¯”è¾ƒçš„å½¢å¼åˆ¤æ–­æ˜¯å¦è¶Šç•Œï¼‰ã€‚

ä¾‹é¢˜ï¼š 6



### 3-3 è¿›ä½

ä¾‹é¢˜ï¼š66

```java
    public int[] plusOne(int[] digits) {
        if (digits == null || digits.length == 0) {
            return null;
        }
        for (int i = digits.length - 1; i >= 0; i--) {
            if(digits[i] < 9) {
                digits[i] ++;
                return digits;
            } else {
                digits[i] = 0;
            }
        }
        int[] res = new int[digits.length + 1];
        res[0] = 1;
        return res;
    }
```

â€‹		è¿™ä¸ªé¢˜ç›®è§£æ³•çš„ç²¾é«“åœ¨äºå¤§å¤§ç®€åŒ–äº†è®¡ç®—ï¼Œé™¤äº†æ­£å¸¸è¿›ä½ä»¥å¤–ï¼Œä»…éœ€è€ƒè™‘ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå³è¿›ä½æº¢å‡º(å¦‚999åŠ 1è¿›ä½è‡³1000çš„æƒ…å†µ)ã€‚

### 3-4 ç¬¦å·å­—æ¯&ç‰›é¡¿å¼€æ–¹

ç¬¦å·å­—æ¯æ¯”è¾ƒç®€å•ï¼Œä¸»è¦å°±æ˜¯ä¸€ä¸ª`Charcter.isDigit()`çš„æ–¹æ³•ï¼Œä¸éœ€è¦å¤šè®²ã€‚

ä¾‹é¢˜ï¼š8

ä¸»è¦è¯´ä¸€ä¸‹ç‰›é¡¿å¼€æ–¹ï¼š

è®°ä½é€¼è¿‘å…¬å¼ï¼š

å¯¹äºéçº¿æ€§æ–¹ç¨‹f(x) = 0ï¼Œå…¶é€¼è¿‘æ–¹ç¨‹ä½ï¼š

x(n+1) = x(n) - f(xn) / f'(xn)

é‚£ä¹ˆï¼Œå¯¹äºå¼€æ–¹è¿™ç§æƒ…å†µè€Œè¨€ï¼Œ

æ–¹ç¨‹ä¸º x^2 - k = 0ï¼Œæ¨å¯¼å…¶é€¼è¿‘å…¬å¼ä¸ºï¼š

x(n+1) = (xn + k / xn)  / 2

å°±æ­¤æˆåŠŸã€‚

ä¾‹é¢˜ï¼š367ï¼šæœ‰æ•ˆå¹³æ–¹æ•°(è¿™é‡Œå±•ç¤ºå¸¸è§„çš„äºŒåˆ†ä»¥åŠç‰›é¡¿è¿­ä»£æ³•)

```java
    public boolean isPerfectSquare(int num) {
        if (num < 0) {
            return false;
        }
        if (num == 0 || num == 1) {
            return true;
        }
        int low = 1;
        int high = num;
        while (low <= high) {
            long mid = low + (high - low) / 2;
            if (mid * mid == num) {
                return true;
            }
            if (mid * mid > num) {
                high = (int) mid - 1;
            } else if(mid * mid < num) {
                low = (int)mid + 1;
            }
        }
        return false;
    }

    //367. ç‰›é¡¿æ³•(äºŒåˆ†æŸ¥æ‰¾)
    public boolean isPerfectSquare1(int num) {
        if (num < 0) {
            return false;
        }
        if (num == 0 || num == 1) {
            return true;
        }
        long res = num;
        while (res * res > num) {
            res = (res + num / res) / 2;
            if (res * res == num) {
                return true;
            }
        }
        return false;
    }
```

è¿™ä¸ªç‰›é¡¿æ³•é‡Œè¾¹éœ€è¦æ³¨æ„çš„ç‚¹åœ¨äºé‚£ä¸ª`res * res > num`çš„ç»ˆæ­¢æ¡ä»¶ï¼Œè¿™ä¸ªåŸå› åœ¨äºç‰›é¡¿è¿­ä»£æœ¬èº«å¯¹äºå¼€æ–¹è¿™ç§æ–¹ç¨‹è€Œè¨€ï¼Œéƒ½æ˜¯ä¼šä»è§£çš„ä¸€ä¾§(æœ¬ä¾‹ä¸­ä¸ºå¤§äºè§£çš„ä¸€ä¾§)é€¼è¿‘è§£ï¼Œå› æ­¤å½“`res * res > num`ï¼Œä¸å†æˆç«‹æ—¶ï¼Œè¯´æ˜æˆ–è€…å·²ç»æ‰¾åˆ°æ•´æ•°è§£ï¼Œåˆæˆ–è€…å·²ç»è¶Šè¿‡åŸæ•´æ•°è§£ã€‚å› æ­¤å¯ä»¥ä½œä¸ºç»ˆæ­¢æ¡ä»¶ã€‚

### ç»ƒä¹ é¢˜

258ï¼šå„ä½ç›¸åŠ ï¼ˆæ•°å­¦å…¬å¼ï¼‰

43ï¼šå­—ç¬¦ä¸²ç›¸ä¹˜ï¼ˆè¿™ä¸ªè¦å¥½å¥½è®²ä¸€ä¸‹ï¼‰

é¦–å…ˆæ˜¯é¢˜ç›®æè¿°

```java
ç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•°Â num1Â å’ŒÂ num2ï¼Œè¿”å›Â num1Â å’ŒÂ num2Â çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚

ç¤ºä¾‹ 1:

è¾“å…¥: num1 = "2", num2 = "3"
è¾“å‡º: "6"
ç¤ºä¾‹Â 2:

è¾“å…¥: num1 = "123", num2 = "456"
è¾“å‡º: "56088"
è¯´æ˜ï¼š

num1Â å’ŒÂ num2Â çš„é•¿åº¦å°äº110ã€‚
num1 å’ŒÂ num2 åªåŒ…å«æ•°å­—Â 0-9ã€‚
num1 å’ŒÂ num2Â å‡ä¸ä»¥é›¶å¼€å¤´ï¼Œé™¤éæ˜¯æ•°å­— 0 æœ¬èº«ã€‚
ä¸èƒ½ä½¿ç”¨ä»»ä½•æ ‡å‡†åº“çš„å¤§æ•°ç±»å‹ï¼ˆæ¯”å¦‚ BigIntegerï¼‰æˆ–ç›´æ¥å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°æ¥å¤„ç†ã€‚
```

â€‹		å…¶å®ä»é¢˜å¹²æ¥åˆ†æï¼Œæœ€å¤§çš„å‘å…¶å®æ˜¯è¿™é‡Œçš„è¾“å…¥æœ¬èº«çš„æ•°å­—æ˜¯å¯èƒ½ä¼šè¿œè¿œå¤§äºjavaæœ¬èº«çš„åŸºç¡€æ•°æ®ç±»å‹çš„è¡¨ç¤ºèŒƒå›´çš„ï¼Œå¹¶ä¸”è¿˜ä¸å…è®¸ä½¿ç”¨å¤§æ•°ç±»å‹æ¥æ“ä½œï¼Œé‚£å…¶å®è§£æ³•å°±æ˜¯æš´åŠ›åˆ—ç«–å¼æ“ä½œäº†ï¼Œå¦‚ä¸‹ï¼š

```java
//æ•´ä¸ªè§£æ³•å…¶å®åˆ†ä¸¤ä¸ªå¤§çš„éƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯ç«–å¼ä¹˜æ³•çš„ä¸¤ä¸ªå¤§éƒ¨åˆ†ï¼‰
//1. åˆ†åˆ«ç”¨ä¹˜æ•°çš„å„ä½å»ä¹˜ä»¥è¢«ä¹˜æ•°çš„å„ä½ï¼Œå¾—åˆ°ä¸€è¿ä¸²æ•°å­—ï¼ˆæœ«å°¾æ³¨æ„è‡ªåŠ¨è¡¥é›¶ï¼‰
//2. å°†1ä¸­è·å–çš„å„æ•°ç›¸åŠ ã€‚
//ä¸Šè¿°æ­¥éª¤æ¯ä¸€æ­¥çš„ç»“æœå‡éœ€ä¸€å­—ç¬¦ä¸²å½¢å¼å­˜å‚¨ã€‚

class Solution {
    public String multiply(String num1, String num2) {
        if (num1.equals("0") || num2.equals("0")) {
            return "0";
        }
        int m = num1.length(), n = num2.length();
        StringBuffer res = new StringBuffer("0");
        for (int i = n - 1; i >= 0; i--) {
            int c = num2.charAt(i) - '0';
            StringBuffer buffer = new StringBuffer();
            for (int j = 0; j < n - 1 - i; j++) {
                buffer.append("0");
            }
            int next = 0;
            for (int j = m - 1; j >= 0 ; j--) {
                int d = num1.charAt(j) - '0';
                int mult = d * c + next;
                buffer.append(mult % 10);
                next = mult / 10;
            }
            if (next != 0) {
                buffer.append(next);
            }
          	//è·å–ä¸Šè¿°1.ä¸­æ‰€è¿°çš„å„ä¸ªç»“æœ
            addString(res, buffer.reverse().toString());
        }
        return res.toString();
    }
		//å°†å„ä¸ªç»“æœç›¸åŠ ã€‚
    private void addString(StringBuffer origin1, String add) {
        String origin = origin1.toString();
        int n = Math.max(origin.length(), add.length());
        origin1.setLength(0);
        int carry = 0;
        for (int i = 0; i < n; i++) {
          	//é‡è¦ï¼Œä¸‹é¢ä¼šè®²ã€‚
            int ai = origin.length() - 1 >= i ? origin.charAt(origin.length() - 1 - i) -
              '0' : 0;
            int bi = add.length() - 1 >= i ? add.charAt(add.length() - 1 - i) - '0' : 0;
            int tmp = ai + bi + carry;
            origin1.append(tmp % 10);
            carry = tmp / 10;
        }
        if (carry != 0) {
            origin1.append(carry);
        }
        origin1.reverse();
    }
}
```

â€‹		åŸºæœ¬çš„æ€è·¯éƒ½åœ¨ä¸Šé¢è¯´è¿‡äº†ï¼Œè¿™é‡Œè¯´ä¸€ä¸ªå°æŠ€å·§ï¼Œå°±æ˜¯å¯¹ä¸¤ä¸ªä¸åŒä½æ•°çš„å­—ç¬¦ä¸²æ•´æ•°ç›¸åŠ æ—¶çš„å¯¹é½é—®é¢˜ï¼Œè¿™é‡Œé‡‡ç”¨ä»ä¸ªä½ä»å³å‘å·¦çš„æ–¹å¼ç›¸ï¼ŒåŸºæœ¬æ¨¡ç‰ˆå¥—è·¯å¦‚ä¸‹ï¼š

```java
        for (int i = 0; i < n; i++) {
          	//æ³¨æ„è¿™é‡Œï¼Œæ˜¯æœ€é‡è¦çš„ä¸¤å¥ï¼Œæœ¬è´¨æ˜¯ä»æœ«å°¾ï¼ˆä½ä½ï¼‰ç›¸æœ€é«˜ä½éå†ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éå†å˜é‡iæŒ‡çš„æ˜¯ä»æœ«ä½å€’æ•°ç¬¬å‡ ä½ï¼Œè¿™æ ·å°±å¯ä»¥ç®€å•é€šè¿‡åˆ¤å®šæ˜¯å¦è¶Šç•Œå†³å®šæ˜¯å¦å–é›¶ï¼Œå·§å¦™è§£å†³äº†ä¸¤ä¸ªåŠ æ•°ä½æ•°é•¿åº¦ä¸åŒçš„å¯¹é½é—®é¢˜ã€‚ã€‚
            int ai = origin.length() - 1 >= i ? origin.charAt(origin.length() - 1 - i) -
              '0' : 0;
            int bi = add.length() - 1 >= i ? add.charAt(add.length() - 1 - i) - '0' : 0;
            int tmp = ai + bi + carry;
            origin1.append(tmp % 10);
            carry = tmp / 10;
        }
        if (carry != 0) {
            origin1.append(carry);
        }
```

â€‹		è¿™ä¸ªæ¨¡ç‰ˆè¦è®°ä½ã€‚

äºŒåˆ†æ¨¡æ¿ï¼š

```java
// 69. xçš„å¹³æ–¹æ ¹(äºŒåˆ†)
public int mySqrt(int x) {
  if (x <= 0) {
    return 0;
  }
  int low = 0;
  int high = x;
  int target = x;
  int ans = 1;
  while (low <= high) {
    int mid = low + (high - low) / 2;
    if ((long)mid * mid == target) {
      return mid;
    }
    if ((long)mid * mid <= target) {
      ans = mid;
      low = mid + 1;
    } else {
      high = mid - 1;

    }
  }
  return ans;
}
```



## ç¬¬å››ç«  æ•°ç»„

æœ¬ç« ä¸»è¦è€ƒå¯Ÿçš„æ˜¯ä¸€äº›åŒæŒ‡é’ˆé—®é¢˜ï¼Œæ²¡æœ‰å¤ªæ˜ç¡®çš„å¥—è·¯ï¼Œåªèƒ½å†™å‡ ä¸ªå…¸å‹ä¾‹é¢˜æ¥çœ‹äº†ã€‚

### 4-1 ä¼šè®®å®¤ç±»å‹é¢˜ç›®

1. **252  ä¼šè®®å®¤1**

è¿™ä¸ªé¢˜æ˜¯ç»™å®šäº†ä¸€ä¸ªåŒºé—´æ•°ç»„ï¼ˆæŒ‡ä»£åŒä¸€åœºä¼šè®®çš„å¼€å§‹ã€ç»“æŸæ—¶é—´ï¼‰ï¼Œç„¶ååˆ¤æ–­è¿™äº›ä¼šä¸€èƒ½å¦åœ¨ä¸€ä¸ªä¼šè®®å®¤å¼€å®Œï¼Œè¿™ä¸ªçš„æ€ç»´å¥—è·¯æ˜¯è¿™æ ·ï¼šè¦æƒ³åœ¨ä¸€ä¸ªä¼šè®®å®¤å¼€å®Œï¼Œå¿…é¡»æ˜¯è¿ç€å¼€ï¼Œ**ä¸€ä¸ªå…³é”®çš„æ¡ä»¶å°±åœ¨äºï¼Œä¸Šä¸€åœºå¼€å§‹çš„ä¼šè®®ç»“æŸçš„æ—¶é—´ä¸€å®šè¦å°äºç­‰äºä¸‹ä¸€åœºä¼šè®®å¼€å§‹çš„æ—¶é—´**ï¼Œè¿™æ ·çš„è¯ï¼Œå°±éœ€è¦é¦–å…ˆæŒ‰ç…§å¼€å§‹æ—¶é—´å¯¹åŒºé—´è¿›è¡Œæ’åºï¼Œè€ŒåæŒ¨ä¸ªåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶å³å¯ã€‚

2. 253 **ä¼šè®®å®¤2**

è¿™ä¸ªé—®é¢˜ä¸1ç±»ä¼¼ï¼Œä¾æ—§æ˜¯ç»™å‡ºåŒºé—´æ•°ç»„ï¼Œä½†è¿™ä¸€æ¬¡æ˜¯è®©åˆ¤æ–­æœ€å°‘éœ€è¦å‡ ä¸ªä¼šè®®å®¤å¯ä»¥å®Œæˆè¿™äº›ä¼šè®®ï¼Œè¿™ä¸ªä¸œè¥¿æˆ‘ç†è§£çš„æ€ç»´æ–¹å¼æ˜¯ï¼š

```
é¦–å…ˆå°†ä¼šè®®å¼€å§‹ã€ç»“æŸæ—¶é—´åˆ†åˆ«æ’åºæ”¾åˆ°ä¸¤ä¸ªä¸åŒæ•°ç»„é‡Œè¾¹ï¼Œç„¶åè®¾æƒ³è¿™ä¹ˆä¸€åœºæ™¯ï¼Œæ¯ä¸€ä¸ªäººåœ¨ä¼šè®®é©¬ä¸Šå¼€å§‹æ—¶åˆ°è¾¾æ—¶ï¼Œéœ€è¦å»æ‰¾ä¸€ä¸ªæœ€æ—©çš„ä¼šè®®ç»“æŸæ—¶é—´ï¼Œç„¶åè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœæœ€æ¥è¿‘ç»“æŸçš„ä¼šè®®æ­¤æ—¶å·²ç»ç»“æŸï¼Œåˆ™ä½¿ç”¨é‚£ä¸ªä¼šè®®å®¤ï¼ˆå³ä¸éœ€è¦é‡å¼€ä¼šè®®å®¤ï¼‰ï¼Œä½†æ˜¯å¦‚æœæ¥è¿‘ç»“æŸçš„ä¼šè®®ä»ç„¶æ²¡æœ‰ç»“æŸï¼Œåˆ™éœ€è¦æ–°å¼€ä¸€ä¸ªä¼šè®®å®¤
```

```java
public int minMeetingRooms(int[][] intervals) {
    int[] starts = new int[intervals.length];
    int[] ends = new int[intervals.length];
    for (int i = 0; i < starts.length; i++) {
        starts[i] = intervals[i][0];
        ends[i] = intervals[i][1];
    }
    Arrays.sort(starts);
    Arrays.sort(ends);
    int end = 0;
    int res = 0;
    for (int i = 0; i < starts.length; i++) {
        if(starts[i] < ends[end]) {
            res ++;
        } else {
            end ++;
        }
    }
    return res;
}
```

### 4-2 åŒæŒ‡é’ˆç±»å‹é¢˜ç›®

1.å­æ•°ç»„-è¿›è¡Œä¸­å¤„ç†(209.é•¿åº¦æœ€å°çš„å­æ•°ç»„)

è¿™ä¸ªé¢˜çš„æ ¸å¿ƒå…¶å®åœ¨äºæ»‘åŠ¨çª—å£ï¼Œçª—å£é¦–å…ˆä»æœ€å·¦è¾¹å¼€å§‹å‘å³æ‰©å¼ ï¼ŒçŸ¥é“å‰ç¼€å’Œ(å³å‰æ®µç´¯ç§¯å’Œ)æ»¡è¶³æ¡ä»¶ï¼Œä¹‹åå¼€å§‹ä»å·¦ç«¯æ”¶ç¼©ç›´è‡³åˆšå¥½ä¸æ»¡è¶³æ¡ä»¶ï¼Œæ­¤æ—¶è®°å½•ä¸€ä¸ªæœ€çŸ­é•¿åº¦ï¼Œè€Œåç»§ç»­å‘å³æ‰©å¼ ï¼Œè¿™æ ·æœ€ç»ˆè®¡ç®—å‡ºçš„æœ€å°å€¼å³ä¸ºç»“æœã€‚

```java
public int minSubArrayLen(int s, int[] nums) {
    int res = Integer.MAX_VALUE;
    int sum = 0;
    int left = 0;
    for (int i = 0; i < nums.length; i++) {
      sum += nums[i];
      while (left <= i && sum >= s) {
        res = Math.min(res, i - left + 1);
        sum -= nums[left++];
      }
    }
    return res == Integer.MAX_VALUE ? 0 : res;
}
```

è¿™ç§ä¸œè¥¿çš„æ¨¡ç‰ˆå…¶å®æ˜¯è¿™ä¸ªï¼š

```java
for (int i = 0; i < nums.length; i++) {
    sum += nums[i];
  	...
}
```

2. å­æ•°ç»„-åˆ†æ®µå¼å¤„ç†

åˆ†æ®µå¼å¤„ç†çš„å«ä¹‰åœ¨äº**ï¼Œä½ ä¸å¯èƒ½å†ä¸€æ¬¡è¿‡ç¨‹ä¸­ï¼Œåœ¨è®¡ç®—å‰ç¼€å’Œçš„åŒæ—¶å¤„ç†éœ€è¦çš„ç»“æœï¼Œå› æ­¤éœ€è¦ç¬¬äºŒæ¬¡å¾ªç¯ï¼Œè¿™ä¹Ÿå°±æ˜¯åˆ†æ®µå¼çš„æ¦‚å¿µ**ã€‚

   	æ¥çœ‹ä¸€ä¸ªä¾‹é¢˜ï¼š

   ```
   ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºÂ nÂ çš„æ•´æ•°æ•°ç»„Â numsï¼Œå…¶ä¸­Â n > 1ï¼Œè¿”å›è¾“å‡ºæ•°ç»„Â outputÂ ï¼Œå…¶ä¸­ output[i]Â ç­‰äºÂ numsÂ ä¸­é™¤Â nums[i]Â ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ã€‚
   
   Â 
   
   ç¤ºä¾‹:
   
   è¾“å…¥: [1,2,3,4]
   è¾“å‡º: [24,12,8,6]
   Â 
   
   æç¤ºï¼šé¢˜ç›®æ•°æ®ä¿è¯æ•°ç»„ä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€ï¼ˆç”šè‡³æ˜¯æ•´ä¸ªæ•°ç»„ï¼‰çš„ä¹˜ç§¯éƒ½åœ¨ 32 ä½æ•´æ•°èŒƒå›´å†…ã€‚
   
   è¯´æ˜: è¯·ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œä¸”åœ¨Â O(n) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚
   
   è¿›é˜¶ï¼š
   ä½ å¯ä»¥åœ¨å¸¸æ•°ç©ºé—´å¤æ‚åº¦å†…å®Œæˆè¿™ä¸ªé¢˜ç›®å—ï¼Ÿï¼ˆ å‡ºäºå¯¹ç©ºé—´å¤æ‚åº¦åˆ†æçš„ç›®çš„ï¼Œè¾“å‡ºæ•°ç»„ä¸è¢«è§†ä¸ºé¢å¤–ç©ºé—´ã€‚ï¼‰
   
   ```

   è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å­æ•°ç»„é—®é¢˜ï¼Œå› æ­¤éœ€è¦ç”¨å­æ•°ç»„å¤„ç†æ–¹å¼è¿›è¡Œï¼Œè¿™é‡Œçš„åˆ†ææ€è·¯å¦‚ä¸‹ï¼š

   ```
   //è¿™ä¸ªé¢˜è¦æ±‚å°†intæ•°ç»„çš„æ¯ä¸ªå…ƒç´ è½¬åŒ–ä¸ºåŸæ•°ç»„ä¸­é™¤å®ƒè‡ªå·±ä»¥å¤–å…ƒç´ çš„ä¹˜ç§¯ï¼Œè¿™æ ·å°±å¾ˆå®¹æ˜“æƒ³åˆ°å‰ç¼€å’Œ*å
   //ç¼€å’Œ
   //è¿™ä¸ªé¢˜çš„é€»è¾‘å…¶å®å¯ä»¥ç†è§£ä¸ºå…ˆæ­£å‘ä¹˜ä¸€éï¼Œç®—å‡ºä¸€ä¸ªå‰ç¼€ç§¯æ•°ç»„ï¼Œè€Œåå†åå‘æ¥ä¸€è¾¹ï¼Œæ¥ä¸€ä¸ªåç¼€ç§¯æ•°ç»„
   //è€Œåä¸¤ä¸ªæ•°ç»„å…ƒç´ ä¸¤ä¸¤ç›¸ä¹˜å³å¯å¾—åˆ°ç»“æœï¼Œä¸è¿‡è¿™æ ·ä¼šæœ‰ä¸‰ä¸ªforå¾ªç¯ï¼Œä»”ç»†ç ”ç©¶ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œå…¶å®
   //è®¡ç®—åç¼€ç§¯çš„æ—¶å€™ï¼Œæ²¡ç®—å®Œä¸€ä¸ªï¼Œå¯ä»¥ç›´æ¥ä¹˜ä¸ŠåŸæ¥è®°å½•çš„å‰ç¼€ç§¯å¾—åˆ°ç»“æœï¼Œå› æ­¤å¯ä»¥çœå»ç¬¬äºŒæ¬¡forå¾ªç¯
   //ç›´æ¥å¾—åˆ°ç»“æœã€‚
   ```

   ä»£ç å¦‚ä¸‹ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯åœ¨ç¬¬äºŒæ¬¡å¾ªç¯ä¸­å·§å¦™è¿ç”¨ä¸­é—´éå†tempï¼Œé¿å…è¿›è¡Œç¬¬ä¸‰æ¬¡å¾ªç¯çš„æ–¹æ³•ï¼š

   ```java
   public int[] productExceptSelf(int[] nums) {
     if (nums == null || nums.length == 1) {
       return nums;
     }
     int[] res = new int[nums.length];
     res[0] = 1;
     for (int i = 1; i < nums.length; i++) {
       res[i] = nums[i - 1] * res[i - 1];
     }
     int temp = 1;
     for (int i = nums.length - 2; i >= 0; i--) {
       temp *= nums[i + 1];
       res[i] *= temp;
     }
     return res;
   }
   ```

   3. åŒå‘åŒæŒ‡é’ˆ

è¿™ç±»é¢˜ç›®è¾ƒä¸ºå…¬å¼åŒ–ï¼Œå¾€å¾€ä¸€çœ‹å°±éœ€è¦ä»ä¸¤è¾¹åˆ°ä¸­é—´éå†ï¼Œå³é‡‡ç”¨åŒæŒ‡é’ˆå½¢å¼ï¼Œæ¨¡ç‰ˆå¦‚ä¸‹ï¼š

   ```java
int l = 0;
int r = height.length - 1;
int res = 0;
while (l < r) {
  	...
}
return res;
   ```

   è¿™é‡Œæ¶‰åŠæ•°ç»„çš„ä»‹ç»ä¸€é“ç»å…¸é¢˜ç›®ã€‚

LC 11:ç››æ°´æœ€å¤šçš„å®¹å™¨ï¼š

è¿™ä¸ªé¢˜å…¶å®ä¸éš¾çœ‹å‡ºæ˜¯åŒæŒ‡é’ˆï¼Œç”·çš„åœ°æ–¹åœ¨æƒ³åˆ°å·¦å³æŒ‡é’ˆçš„ç§»åŠ¨ç­–ç•¥ï¼Œ

æ ¸å¿ƒå°±ä¸€å¥è¯ï¼šæ°¸è¿œä¼˜å…ˆç§»åŠ¨è¾ƒçŸ­çš„é‚£ä¸€è¾¹ï¼ï¼ï¼

è¿™ä¸ªç­–ç•¥å¯ä»¥ç®€å•åˆ†æä¸€ä¸‹ï¼š

é¦–å…ˆï¼Œç”±äºé—®é¢˜çš„æ€§è´¨ï¼Œå¿…ç„¶æ˜¯é‡‡ç”¨åŒå‘åŒæŒ‡é’ˆä»ä¸¤è¾¹å‘ä¸­é—´ç§»åŠ¨ï¼Œç§»åŠ¨çš„è¿‡ç¨‹ä¸­ä¸æ–­è®°å½•è°ƒæ•´æœ€å¤§å€¼ï¼Œé‚£è¿™é‡Œå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬åœ¨ç§»åŠ¨ä¸¤è¾¹æŒ‡é’ˆçš„æ—¶å€™æ€»ä¼šæœ‰è¿™ä¹ˆä¸ªç–‘é—®ï¼š**ä¼šä¸ä¼šå› ä¸ºæˆ‘è¿™æ¬¡ç§»åŠ¨å¯¼è‡´åç»­æ¼è®¡ç®—çœŸæ­£çš„æœ€å¤§å€¼å‘¢ï¼Ÿä¹Ÿå³æ˜¯è¯´ï¼Œå¦‚æœæˆ‘æœ¬æ¬¡ä¸ç§»åŠ¨è¿™ä¸ªæŒ‡é’ˆï¼Œé‚£è¾¹æ˜¯å¦åç»­è¿˜ä¼šæœ‰è¯¥æŒ‡é’ˆä½äºè¿™ä¸ªä½ç½®ï¼Œä¸”å®¹ç§¯æ›´å¤§çš„æƒ…å†µå‘ç”Ÿå‘¢ï¼Ÿ**ï¼Œä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ†æâ€œä¼˜å…ˆç§»åŠ¨è¾ƒçŸ­è¾¹â€è¿™ç§ç­–ç•¥çš„åˆç†æ€§äº†ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œé¢˜ç›®çš„è¦æ±‚ï¼Œå®¹å™¨å®é™…ä¸Šå–å†³äº**è¾ƒçŸ­è¾¹ä¸ä¸¤è¾¹è·ç¦»çš„ä¹˜ç§¯**ï¼Œé‚£æ˜¾ç„¶ï¼Œå¦‚æœæˆ‘ä»¬ä¸ç§»åŠ¨è¾ƒçŸ­è¾¹ï¼Œé‚£åç»­è¿™ä¸ªå¼å­ä¸­è¾ƒçŸ­è¾¹åªä¼šç»§ç»­å˜å°(æˆ–ä¸å˜)ï¼ŒäºŒä¸¤éè·ç¦»åˆ™æ˜¯ä¸€å®šä¼šå˜å°äº†ï¼Œå› æ­¤ä¸å­˜åœ¨æ‰€è°“ä¸ç§»åŠ¨è¾ƒçŸ­è¾¹ï¼Œåç»­ä¼šæœ‰å®¹ç§¯æ›´å¤§çš„æƒ…å†µå‘ç”Ÿï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç§»åŠ¨è¾ƒçŸ­è¾¹æ˜¯ä¸€ä¸ªç»å¯¹å®‰å…¨çš„é€‰æ‹©ï¼Œå› æ­¤æˆ‘ä»¬é€‰æ‹©å§‹ç»ˆä¼˜å…ˆç§»åŠ¨è¾ƒçŸ­è¾¹ã€‚ä»£ç å¦‚ä¸‹ï¼š

```java
public int maxArea1(int[] height) {
    int l = 0;
    int r = height.length - 1;
    int res = 0;
    while (l < r) {
        res = Math.max(Math.min(height[l], height[r]) * (r - l), res);
      	//ä¼˜å…ˆç§»åŠ¨è¾ƒçŸ­è¾¹ï¼Œä»£ç å¾ˆç®€å•ï¼Œéš¾çš„åœ°æ–¹åœ¨äºæ€ç»´è¿‡ç¨‹ã€‚
        if (height[l] < height[r]) {
            l++;
        } else {
            r--;
        }
    }
    return res;
}
```

### 4-3 äºŒç»´æ•°ç»„

äºŒç»´æ•°ç»„æ­¤å¤„æ‰€æŒ‡çš„ä¸»è¦è€ƒå¯Ÿç›®æ ‡æ˜¯æ—‹è½¬å˜æ¢ç±»å‹é¢˜ç›®ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œæ‰€æœ‰çš„æ­¤ç±»æ—‹è½¬å˜æ¢ç±»å‹é¢˜ç›®å‡å¯ç”±ä»¥ä¸‹å‡ ç§å˜æ¢ç»„åˆè€Œæ¥ï¼š

```java
1. å‚ç›´å˜æ¢
2. æ°´å¹³å˜æ¢
3. å¯¹ç§°è½´å˜æ¢ï¼ˆä¸»/å‰¯å¯¹è§’çº¿ï¼‰
```

ç‰¹æ®Šé¢˜å‹ï¼šäºŒç»´æ•°ç»„å˜æ¢â€”æš´åŠ›è§£å†³(ä¸»è¦è€ƒå¯Ÿé˜Ÿéå†è¿‡ç¨‹ä¸­å¾ªç¯å˜é‡çš„æŒæ¡)â€”â€”**LC. 54**

### 4-4 å®ç°ç±»é¢˜ç›®

æ­¤ç±»é¢˜ç›®ä¸ä¸Šé¢è¯´çš„å¥—è·¯ä¸åŒï¼Œçº¯è€ƒå¯Ÿé€»è¾‘æ€ç»´èƒ½åŠ›ï¼š

ä¾‹é¢˜ï¼šLC. 277

### 4-5 æ•°å­¦å®šç†

ä¾‹é¢˜ï¼šLC. 169

### 4-6 æ•°ç»„ä¾‹é¢˜è®­ç»ƒæ€»ç»“

> 1. æ•°ç»„æ“ä½œ

**ä¾‹é¢˜**ï¼šLC. 26ã€LC. 27ã€LC. 80

**åˆ†æ**ï¼šè¿™ç±»é¢˜çš„å…±åŒç‰¹å®šåœ¨ä¸è¦æ±‚å¯¹ä¸€ä¸ªä¸€ç»´æ•°ç»„**åŸåœ°çš„**åˆ é™¤æŸäº›ç‰¹å®šå…ƒç´ ï¼Œè€Œåè¿”å›å®Œæˆåçš„å…ƒç´ é•¿åº¦ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å•æŒ‡é’ˆå³å¯ï¼ŒæŒ‡é’ˆå§‹ç»ˆæŒ‡å‘æœ€åä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œéå†è¿‡ç¨‹ä¸­æ¯å‘ç°æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ å°±å‰ç§»è‡³æŒ‡é’ˆå¤„ï¼Œä¹‹åæŒ‡é’ˆå³ç§»ã€‚

è¿™ç±»é¢˜æœ‰æ¨¡æ¿ï¼š

```java
public int removeDuplicates(int[] nums) {
  	int left = 0;
		...
  	for (int i = 1; i < nums.length; i++) {
        if(nums[i] != nums[left]) {
            ...
    		}
  	}
  	return left + 1;
}
```

è¿™é‡Œæˆ‘ä»¬çœ‹ä¸€ä¸ªæ¯”è¾ƒéš¾ä¸€ç‚¹çš„ä¾‹å­

LC. 80ï¼š

```java
ç»™å®šä¸€ä¸ªå¢åºæ’åˆ—æ•°ç»„ nums ï¼Œä½ éœ€è¦åœ¨ åŸåœ° åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿å¾—æ¯ä¸ªå…ƒç´ æœ€å¤šå‡ºç°ä¸¤æ¬¡ï¼Œè¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»åœ¨ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ å¹¶åœ¨ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´çš„æ¡ä»¶ä¸‹å®Œæˆã€‚
```

åˆ†æï¼šè¿™é¢˜æˆ‘ä»¬å¯ä»¥å‘ç°å…¶å®å’Œæˆ‘ä»¬ä¹‹å‰çœ‹çš„é‚£ç§æ¨¡æ¿é¢˜åŒºåˆ«ä¸å¤§ï¼Œåªæ˜¯å¢åŠ äº†ä¸€ä¸ªæ¡ä»¶ï¼Œå³æ¯ä¸ªæ•°å­—å…è®¸æœ€å¤šå‡ºç°ä¸¤æ¬¡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªcountéå†æ¥è¿½åŠ è®°å½•è¾…åŠ©å³å¯ã€‚

```java
public int removeDuplicates(int[] nums) {
  	int left = 0;
  	int count = 1;
  	for (int i = 1; i < nums.length; i++) {
        if(nums[i] != nums[left]) {
            nums[++left] = nums[i];
            count = 1;
        } else {
            if (count < 2) {
              nums[++left] = nums[i];
            }
            count++;
      	}
  	}
  	return left + 1;
}
```

> 2. å•/åŒæŒ‡é’ˆ

> > 2.1 åŒºé—´é—®é¢˜

ä¾‹é¢˜ï¼šLC 56ã€57ã€252ã€253

> > 2.2 æ‰«æçº¿

ä¾‹é¢˜ï¼šLC 228ã€163

> > 2.3 å­æ•°ç»„(åˆ†ä¸ºè¿›è¡Œä¸­å’Œåˆ†æ®µ)

> 3 äºŒç»´æ•°ç»„æ—‹è½¬

ä¾‹é¢˜ï¼šLC 48ï¼šå›¾åƒæ—‹è½¬(é¡ºæ—¶é’ˆæ—‹è½¬90åº¦)

è¿™ç±»é¢˜ç›®æ¯”è¾ƒå…¸å‹ï¼Œæ¯”è¾ƒå•ä¸€ï¼Œæ€»çš„æ¥è¯´å°±æ˜¯åšåŠ¨ä½œæ‹†è§£ï¼Œè®°ä½

```java
é¡ºæŒ‡é’ˆæ—‹è½¬90åº¦ = Yè½´å¯¹ç§° + æ­£å¯¹è§’çº¿è½´å¯¹ç§°(è¿™ä¸ªè¦è½»æ¾ä¸€äº›)
æˆ–è€…
é¡ºæŒ‡é’ˆæ—‹è½¬90åº¦ = Xè½´å¯¹ç§° + è´Ÿå¯¹è§’çº¿è½´å¯¹ç§°(è¿™ä¸ªå®Œå…¨æ˜¯æ‰¾ç½ªå—)
```

è¿™é‡Œå°±ä¸å©†å©†å¦ˆå¦ˆäº†ï¼Œç›´æ¥ä¸Šå…¨ä»£ç ï¼š

```java
//Xè½´å¯¹ç§°
public void rotateInX(int[][] matrix) {
    int N = matrix.length;
    for (int i = 0; i < matrix.length; i++) {
        int tmp = 0;
        for (int j = 0; j < N / 2; j++) {
            tmp = matrix[i][N - j - 1];
            matrix[i][N - j - 1] = matrix[i][j];
            matrix[i][j] = tmp;
        }
    }
}
//Yè½´å¯¹ç§°
public void rotateInY(int[][] matrix) {
    int N = matrix.length;
    for (int i = 0; i < N / 2; i++) {
        int tmp = 0;
        for (int j = 0; j < matrix.length; j++) {
            tmp = matrix[N - i - 1][j];
            matrix[N - i - 1][j] = matrix[i][j];
            matrix[i][j] = tmp;
        }
    }
    int i = 1;
}

//æ­£å¯¹è§’çº¿è½´å¯¹ç§°
public void rotateInPosCross(int[][] matrix) {
    int N = matrix.length;
    for (int i = 0; i < N; i++) {
        int tmp;
        for (int j = 0; j < i; j++) {
            tmp = matrix[j][i];
            matrix[j][i] = matrix[i][j];
            matrix[i][j] = tmp;
        }
    }
}
//è´Ÿå¯¹è§’çº¿è½´å¯¹ç§°
public void rotateInNegCross(int[][] matrix) {
    int N = matrix.length;
    for (int i = 0; i < N; i++) {
        int tmp;
        for (int j = 0; j < N - 1 - i; j++) {
            tmp = matrix[N - 1 - j][N - 1 - i];
            matrix[N - 1 - j][N - 1 - i] = matrix[i][j];
            matrix[i][j] = tmp;
        }
    }
}
```

ä¾‹é¢˜ï¼šLC. 54èºæ—‹çŸ©é˜µï¼ˆä¸€é“æå…¶ç‰¹æ®Šçš„é¢˜å‹ï¼Œå°±è€ƒä½ å¾ªç¯æš´åŠ›è§£çš„èƒ½åŠ›ï¼‰



ä¾‹é¢˜(è¶…çº§é«˜é¢‘)ï¼š[15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/)

```
ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„Â numsï¼Œåˆ¤æ–­Â numsÂ ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾—Â a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
```

è¿™ä¸ªé¢˜æˆ‘è¦è®²ä¸€ä¸‹æˆ‘çš„å¿ƒè·¯å†ç¨‹ï¼Œé¦–å…ˆæ˜¯æœ€ç¬¨çš„åŠæ³•ï¼Œå°±ç›´æ¥å§ä¸¤æ•°ä¹‹å’Œè¿™ç©æ„æ¬è¿‡æ¥ç”¨ï¼Œç»“æœå¯æƒ³è€ŒçŸ¥ï¼Œç›´æ¥å¹²åˆ°200å¤šmsï¼Œç©ä¸ªè›‹ï¼Œ

æ¥ä¸‹æ¥å­¦èªæ˜äº†ï¼Œåˆ©ç”¨åŒæŒ‡é’ˆï¼Œä»å·¦å‘å³éå†åˆ¤æ–­å»é‡ï¼Œæ•ˆæœå¥½ä¸€äº›äº†ï¼š

```java
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        List<List<Integer>> retList = new ArrayList<>();
        if (nums == null || nums.length < 3) {
            return retList;
        }
        Arrays.sort(nums);
        Map<Integer, Integer> map = new HashMap();
        for (int i = 0; i < nums.length; i++) {
            map.put(nums[i], i);
        }
        int l = 0, r = 1;
        while (l < nums.length) {
            if (r == nums.length) {
                l = getNextIndex(nums, l);
                r = l + 1;                
            }
            if (l >= nums.length || r >= nums.length) {
                continue;
            }
            while (r < nums.length) {
                int tar = 0 - nums[l] - nums[r];
                if (map.containsKey(tar) && map.get(tar) > r) {
                    retList.add(Arrays.asList(nums[l], nums[r], tar));
                }
                r = getNextIndex(nums, r);
            }
        }
        return retList;
    }

    public int getNextIndex(int[] nums, int l) {
        int val = nums[l];
        while (l < nums.length && nums[l] == val) {
            l ++;
        }
        return l;
    }
}
```

ç°åœ¨åˆ°100å¤šmsäº†ï¼Œå¥½äº†ä¸€äº›ï¼Œä½†è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œæœ€åçœ‹äº†ç­”æ¡ˆï¼Œæœ€å¼€å§‹æˆ‘ä¸€ç›´æ²¡ææ˜ç™½æˆ‘å’Œç­”æ¡ˆçš„å·®è·åˆ°åº•åœ¨å“ªé‡Œï¼Œå…ˆçœ‹ä»£ç ï¼š

```java
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        List<List<Integer>> retList = new ArrayList<>();
        Arrays.sort(nums);
        int first = 0, second = 1;
        for (first = 0; first < nums.length; first++) {
            if (first > 0 && nums[first] == nums[first - 1]) {
                continue;
            }
            int target = -nums[first];
            int third = nums.length - 1;
            for(second = first + 1; second < third; second ++) {
                if (second > first + 1 && nums[second] == nums[second - 1]) {
                    continue;
                }
                while (third > second && nums[third] + nums[second] > target) {
                    third --;
                }
                if (third == second){
                    break;
                }
                if (nums[second] + nums[third] == target) {
                    retList.add(Arrays.asList(nums[first], nums[second], nums[third]));
                } 
            }
        }        
        return retList;
    }
}
```

æœ€å¼€å§‹æˆ‘ä¸€ç›´æ²¡æœ‰ææ˜ç™½è¿™ç©æ„å’Œæˆ‘å†™çš„ä¸œè¥¿æ¯”èµ·æ¥ï¼Œæ—¶é—´çœåœ¨å“ªé‡Œï¼Œåæ¥æƒ³æ˜ç™½äº†ï¼Œæˆ‘ä¸Šé¢é‚£ç§ç›¸å½“äºç”¨mapæ“ä½œä»£æ›¿äº†ç¬¬ä¸‰ç§æ–¹æ³•ç§ï¼Œå¯¹ç¬¬ä¸‰ä¸ªæ•°å¾ªç¯åˆ¤å®šçš„è¿‡ç¨‹ï¼Œä½†è¿™æ ·å…¶å®ä¼šå¢åŠ ä¸€äº›æ— è°“çš„æ¶ˆè€—ï¼Œæ¯”æ–¹è¯´ï¼Œå¦‚æœä½ æœ¬æ¬¡é€šè¿‡mapæ˜ å°„è·å–çš„ç¬¬ä¸‰ä¸ªå€¼çš„indexæ¯”firstå’Œsecondéƒ½è¦å°ï¼Œé‚£å› ä¸ºå»é‡çš„åŸå› ï¼Œè¿™é‡Œå¿…é¡»å¹²æ‰ï¼Œç›¸å½“äºç™½å¿™æ´»ï¼Œè€Œå¯¹ç¬¬ä¸‰ä¸ªç»§ç»­é‡‡ç”¨ä»æœ«ç«¯æƒ³ç¬¬äºŒä¸ªæ•°æ‰€åœ¨ä½ç½®è¿›è¡Œéå†åˆ™ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”å®é™…ä¸Šï¼Œéå†æ•°ç»„è¦æ¯”æŸ¥è¯¢hashMapçš„è€—æ—¶ä½çš„å¤šã€‚

å…¶å®ä»ä¸Šé¢ç€æ•´ä¸ªä¼˜åŒ–è¿‡ç¨‹æ¥çœ‹ï¼Œå°±èƒ½çœ‹å‡ºè¿™ä¸ªé¢˜çš„å‰å®³ä¹‹å¤„äº†ï¼Œå…¶å®æœ¬è´¨ä¸Šå®ƒæ²¡æœ‰å¤šå°‘å¤ªæ·±å¥¥çš„ç®—æ³•åœ¨é‡Œè¾¹ï¼Œä½†å› ä¸ºé¢˜ç›®æœ¬èº«çš„åŸå› ï¼Œå¯¼è‡´æ— è®ºå¦‚ä½•ä¼˜åŒ–ï¼Œæ—¶é—´å¤æ‚åº¦éƒ½åœ¨O(N^2)ï¼Œå¹¶ä¸”ç”¨ä¾‹åº”è¯¥åŒ…å«äº†é‚£ç§é‡å¾ˆå¤§çš„æ•°æ®ï¼Œå¯¼è‡´ä»»ä½•ä¸€ä¸ç‚¹ä¼˜åŒ–ï¼Œå°±ç®—ä¸ä¼šåœ¨æ—¶é—´å¤æ‚åº¦ä¸Šäº§ç”Ÿæœ¬è´¨å˜åŒ–ï¼Œä½†ä¹Ÿä¼šå¯¼è‡´è€—æ—¶å‘ç”Ÿæ•°å€çš„å˜åŒ–ï¼Œå› æ­¤éå¸¸è€ƒå¯Ÿä¼˜åŒ–èƒ½åŠ›ã€‚

## ç¬¬äº”ç«  äºŒåˆ†æ³•

### 5-1 è¿­ä»£å½¢å¼æ€»ç»“

â€‹		äºŒåˆ†æ³•çš„è¿­ä»£ä¸€å…±æœ‰ä¸‰ç§å½¢å¼ï¼Œåˆ†åˆ«æ˜¯`left <= right`ã€`left < right`ã€ `left + 1 < right`ï¼Œè¿™ä¸‰ç§æ®Šé€”åŒå½’ï¼Œä½†å…¶åŒºåˆ«éå¸¸é‡è¦ï¼Œæˆ‘ä»¬å¿…é¡»å®Œå…¨äº†è§£è¿™ä¸‰ç§å†™æ³•å†æ‰¾ä¸åˆ°ç›®æ ‡å€¼çš„æƒ…å†µä¸‹ï¼Œæœ€ç»ˆå·¦å³æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®æœ‰ä½•ç§ä¸åŒï¼Œå› ä¸ºå®é™…ä¸Šï¼Œå¹¶ä¸ä¼šæœ‰ä¸€ä¸ªé¢˜è®©ä½ çœŸçš„å»çº¿æ€§è¡¨é‡Œè¾¹ç€ä¸€ä¸ªç²¾ç¡®å€¼ï¼Œæ›´å¤šçš„æ˜¯æ±‚è§£ä¸€ä¸ªæœ€æ¥è¿‘çš„å€¼ï¼Œæ¯”å¦‚ä¹‹å‰æåˆ°è¿‡çš„å¼€æ–¹ï¼Œè¦æ±‚æ‹¿åˆ°ä¸€ä¸ªæœ€æ¥è¿‘çš„æ•´æ•°å€¼ï¼Œè¿™ç§å°±è¦æ±‚æˆ‘ä»¬å¯¹ä¸‰ç§è¿­ä»£å½¢å¼åœ¨æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹çš„æœ€ç»ˆæŒ‡å‘ä½ç½®ã€‚

å…ˆæ¥çœ‹çœ‹è¿™ä¸‰ç§åŸºæœ¬çš„è¿­ä»£å½¢å¼ï¼š

> 1. Left <= right

ä»£ç å¦‚ä¸‹ï¼š

```java
//è¿™ä¸­å†™æ³•ä»å¤´åˆ°ä½éƒ½ä¿æŒæ‰€æœç´¢çš„åŒºé—´å§‹ç»ˆä½[start, end]
public int binarySearch(int[] nums, int target) {
    int start = 0;
    int end = nums.length - 1;  //åˆå§‹åŒ–æœç´¢å…¨æ•°ç»„ï¼ŒèŒƒå›´ä¸º[start, end]
    while (start <= end) {
        int mid = start + (end - start) / 2;
        if (nums[mid] > target) {
          	end = mid - 1;            //é€‰å·¦åŠè¾¹æ•°ç»„ï¼Œ[start, mid - 1]
        } else if (nums[mid] < target) {
          	start = mid + 1;					//é€‰å³åŠè¾¹æ•°ç»„, [mid + 1, end]
        } else {
          	return mid;
        }
        System.out.println("start = " + start + " end = " + end);
    }
    System.out.println("start = " + start + " end = " + end);
    return -1;
}
```

è¿™ç§å†™æ³•ä¸è¦è¦ç¡¬èƒŒï¼Œä¸»è¦è®°ä½ï¼Œä»å¤´åˆ°å°¾éƒ½ä¿æŒæœç´¢åŒºé—´å§‹ç»ˆä½`[left, right]`çš„é—­åŒºé—´å³å¯ã€‚

éœ€è¦æ³¨æ„ï¼Œè¿™ç§å†™æ³•åœ¨æ‰¾ä¸åˆ°å‡†ç¡®å€¼çš„æƒ…å†µä¸‹ï¼Œæœ€ç»ˆä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„ç´¢å¼•åˆ†åˆ«ä¸º:

```java
nums[right] < target < nums[left]ğŸ‘left = right + 1(è¿™ä¸€ç‚¹ä»è¿™ä¸ªç®—æ³•æ­¤æ—¶çš„ç»ˆæ­¢æ¡ä»¶ä¹Ÿå¯ä»¥çœ‹å‡º)
æ³¨æ„, targetæœ¬èº«åœ¨æ•°ç»„ä¹‹å¤–æ—¶ï¼Œå¯èƒ½æœ‰left = 0, right = -1æˆ–è€…left = nums.lengthä¸”right = nums.length - 1; 
```

> 2. left < right

```java
//è¿™ä¸­å†™æ³•ä»å¤´åˆ°ä½éƒ½ä¿æŒæ‰€æœç´¢çš„åŒºé—´å§‹ç»ˆä½[start, endï¼‰
public int binarySearch1(int[] nums, int target) {
    int start = 0;
    int end = nums.length;                //åˆå§‹åŒ–ä½[0, nums.length - 1)
    while (start < end) {
        int mid = start + (end - start) / 2;
        if (nums[mid] > target) {
            end = mid;										//é€‰æ‹©å·¦åŠè¾¹,[start, mid)
        } else if (nums[mid] < target) {
            start = mid + 1;
        } else {
            return mid;										//é€‰æ‹©å³è¾¹è¾¹,[mid + 1, end)
        }
        System.out.println("start = " + start + " end = " + end);
    }
    System.out.println("start = " + start + " end = " + end);
    return -1;
}
```

è¿™ç§å†™æ³•æ˜¯éœ€è¦å…¨ç¨‹ä¿æŒæœç´¢åŒºé—´ä¸º`[start, end)`çš„å·¦é—­å³å¼€åŒºé—´çš„ã€‚

æ³¨æ„ï¼šè¿™ç§å†™æ³•ä¸‹æœ€ç»ˆæ²¡æœ‰æ‰¾åˆ°`target`çš„æ—¶å€™ï¼Œç»“æœå¦‚ä¸‹ï¼š

```java
left = right = x ä¸” nums[x] > target && nums[x - 1] < target;
æ€»ä¹‹å°±æ˜¯æœ€ç»ˆä¼šæŒ‡å‘æ°å¥½å¤§äºtargetçš„æ•°å­—çš„ç´¢å¼•ï¼Œå½“ç„¶ï¼ŒåŒæ ·å¯èƒ½å–0æˆ–è€…nums.length
```

> left + 1 < right

```java
    //è¿™ä¸ªé¢˜æ²¡æœ‰æ˜ç¡®çš„å¼€é—­åŒºé—´è¿™ç§è¯´æ³•äº†ã€‚ã€‚ã€‚ã€‚
		public int binarySearch3(int[] nums, int target) {
        int start = 0;
        int end = nums.length - 1;
      	//éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªæ¡ä»¶å¯¼è‡´æœ€åstartå’Œendç›¸é‚»çš„æ—¶å€™å°±ä¼šç»“æŸå¾ªç¯ï¼Œå¿…æœ‰ä¸€ä¸ªæœªè¢«è€ƒå¯Ÿã€‚
        while (start + 1 < end) {
            int mid = start + (end - start) / 2;
            if (nums[mid] > target) {
                end = mid;
            } else if (nums[mid] < target) {
                start = mid;
            } else {
                return mid;
            }
            System.out.println("start = " + start + " end = " + end);
        }
      	//å› æ­¤æœ€åéœ€è¦è¿½åŠ ä¸€æ¬¡å¯¹startå’Œendçš„è€ƒå¯Ÿã€‚
        if (nums[start] == target) {
            return start;
        } else if (nums[end] == target) {
            return end;
        }
        System.out.println("start = " + start + " end = " + end);
        return -1;
    }
```

ç¬¬ä¸‰ç§å†™æ³•ä¸‹è‹¥æ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å›å€¼å¦‚ä¸‹ï¼š

```java
1. å¸¸è§„æƒ…å†µï¼š
  nums[start] < target < nums[end]
2. æç«¯æƒ…å†µä¸‹ï¼š
  start = 0, end = 1ï¼ˆtarget < nums[0]ï¼‰
  start = nums.length - 2, end = nums.length - 1(target > nums[1])
```

### 5-2 å®æˆ˜ä¾‹é¢˜

Lc35. æœç´¢æ’å…¥ä½ç½®

```java
    // 35. æœç´¢æ’å…¥ä½ç½®
    public int searchInsert(int[] nums, int target) {
        if (nums == null) {
            return -1;
        }
        int start = 0;
        int end = nums.length - 1;
        while (start <= end) {
            int mid = start + (end - start) / 2;
            if (nums[mid] < target) {
                start = mid + 1;
            } else if (nums[mid] > target) {
                end = mid - 1;
            } else {
                return mid;
            }
        }
        return start;
    }

```

â€‹		è¿™ä¸ªé¢˜å±äºæœ€ç®€å•çš„é¢˜å‹ï¼Œå…¶å®å°±æ˜¯æŠ„æ¨¡ç‰ˆå°±å®Œäº‹äº†ã€‚

Lc 278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬

```java
public class Solution extends VersionControl {
    public int firstBadVersion(int n) {
        int start = 1;
        int end = n;
        while(start <= end) {
            int mid = start + (end - start) / 2;
            if (isBadVersion(mid)) {
                end = mid - 1;
            } else {
                start = mid + 1;
            }
        }
        return start;
    }
}
```

è¿™ä¸ªé¢˜å…¶å®ä¹Ÿæ˜¯TMçš„æŠ„å†™æ¨¡ç‰ˆï¼Œéœ€è¦è½¬æ¢æ€è·¯ï¼Œå¯ä»¥è½¬æ¢ä¸ºå¯»æ‰¾ä¸€ä¸ªæ•°ç»„ä¸­ç»å¯¹ä¸å­˜åœ¨çš„å€¼çš„æ’å…¥ä½ç½®ã€‚



LC. 33 æœç´¢æ—‹è½¬æ’åºæ•°ç»„

```java
ç»™ä½ ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ nums ï¼Œå’Œä¸€ä¸ªæ•´æ•° target ã€‚

å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚ï¼ˆä¾‹å¦‚ï¼Œæ•°ç»„Â [0,1,2,4,5,6,7]Â å¯èƒ½å˜ä¸ºÂ [4,5,6,7,0,1,2] ï¼‰ã€‚

è¯·ä½ åœ¨æ•°ç»„ä¸­æœç´¢Â target ï¼Œå¦‚æœæ•°ç»„ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ï¼Œåˆ™è¿”å›å®ƒçš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å›Â -1Â ã€‚

Â 
ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 0
è¾“å‡ºï¼š4
ç¤ºä¾‹Â 2ï¼š

è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 3
è¾“å‡ºï¼š-1
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnums = [1], target = 0
è¾“å‡ºï¼š-1

æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/search-in-rotated-sorted-array
è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

â€‹		è¿™ä¸ªé¢˜å°±æœ‰æ„æ€äº†ï¼Œä¹çœ‹ä¹‹ä¸‹å®Œå…¨æ²¡æœ‰å¤´ç»ªï¼Œæ ¹æ®è€å¸ˆè®²çš„ï¼Œå…¶å®ä¹Ÿå°±å¤§ä½“æ˜¯æ˜¯ä¸¤ç§æƒ…å†µï¼Œåœ¨è®¡ç®—å®Œä¸­é—´å€¼midåï¼Œå³å¯ç¡®å®šæ‹ç‚¹åœ¨é‚£ä¸€åŠåŒºé—´ï¼Œæ— éæ˜¯æ‹ç‚¹åœ¨midä¹‹å‰ï¼Œæˆ–è€…æ‹ç‚¹åœ¨midä¹‹åä¸¤ç§æƒ…å†µè€Œå·²ã€‚

```java
    public int search(int[] nums, int target) {
        int start = 0;
        int end = nums.length - 1;
        while (start <= end) {
            int mid = start + (end - start) / 2;
            if (nums[mid] == target) {
                return mid;
            }
            if (nums[mid] >= nums[start]) {
                if (target >= nums[start] && target < nums[mid]) {
                    end = mid - 1;
                } else {
                    start = mid + 1;
                }
            } else if (nums[mid] <= nums[end]) {
                if (target > nums[mid] && target <= nums[end]) {
                    start = mid + 1;
                } else {
                    end = mid - 1;
                }
            }
        }
        return -1;
    }
```

â€‹		ä¸Šé¢è¿™ä¸€å¤§æ®µç¨‹åºæ•´ä¸ªè¿˜æ˜¯å¯ä»¥çœ‹å‡ºæ™®é€šçš„äºŒåˆ†è¿­ä»£çš„ç‰ˆæœ¬ï¼Œä¸æ™®é€šç‰ˆæœ¬ä¸åŒçš„ç‚¹åœ¨äºï¼Œå…¶åˆ¤æ–­ä¸‹ä¸€æ­¥å¾€å“ªè¾¹éå†çš„éƒ¨åˆ†è¦å¤æ‚ä¸€äº›ï¼š

â€‹		è¿™ä¸ªé¢˜å‘Šè¯‰æˆ‘ä»¬çš„é“ç†æ˜¯ï¼š

â€‹		**äºŒåˆ†æ³•å°±æ˜¯äºŒåˆ†æ³•è€Œå·²ï¼Œå¤§çš„æ¨¡ç‰ˆæ˜¯ä¸ä¼šå˜åŠ¨çš„ï¼Œåªè¦æˆ‘ä»¬èƒ½é€šè¿‡æ¡ä»¶å°†ä¸‹ä¸€æ­¥éå†çš„æ–¹å‘ç¡®è®¤å¥½ï¼Œå…¶ä»–ä½ç½®çš„æ¨¡ç‰ˆæ˜¯ä¸éœ€è¦æ”¹åŠ¨çš„ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼**

## ç¬¬å…­ç«  é“¾è¡¨

### å‰è¨€

é“¾è¡¨è¿™ä¸€ç« ç®—æ˜¯çœ‹åˆ°ç°åœ¨æœ€ç®€å•çš„ä¸€ç« äº†ï¼Œä¸»è¦è¿˜æ˜¯åˆ†ä¸ºåŸºæœ¬æ“ä½œã€åè½¬ã€åˆ é™¤ã€ç¯ä»¥åŠé€’å½’å†™æ³•ç­‰ã€‚

### 6-1 åŸºæœ¬æ“ä½œ

â€‹		åŸºæœ¬æ“ä½œè¦è®°ä½ä¸€ä¸ªå¤§çš„åŸåˆ™ï¼š

```java
å¦‚æœç®—æ³•è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¤´èŠ‚ç‚¹ä¸éœ€è¦å˜åŒ–ï¼Œåˆ™ä¸€èˆ¬ä¸éœ€è¦åœ¨å¤´èŠ‚ç‚¹å‰è¡¥èŠ‚ç‚¹
å¦‚æœç®—æ³•è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¤´èŠ‚ç‚¹å¯èƒ½ä¼šå˜åŒ–ï¼Œåˆ™ä¸€èˆ¬éœ€è¦åœ¨å¤´èŠ‚ç‚¹å‰è¡¥èŠ‚ç‚¹(æˆ‘ä»¬ç§°ä¹‹ä¸ºdummyèŠ‚ç‚¹)
```



### 6-2 åè½¬

â€‹		åè½¬è¿™ä¸ªä¸œè¥¿æœ¬èº«æ˜¯åŸºç¡€ä¸”ç®€å•çš„ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€äº›è¡ç”Ÿçš„ç±»å‹ï¼Œæ¶‰åŠåˆ°ç¿»è½¬å¾ªç¯æ–¹å¼çš„é€‰æ‹©ã€‚è¿™é‡Œè¯´ä¸€ç§æ¯”è¾ƒâ€œåˆ«æ‰­â€çš„å†™æ³•ï¼Œæ€»ç»“èµ·æ¥ä¸€å¥è¯ï¼Œæ¯æ¬¡éƒ½å°†å½“å‰éå†çš„èŠ‚ç‚¹ç§»åŠ¨åˆ°ç¿»è½¬å¼€å§‹çš„å¤´èŠ‚ç‚¹ä½ç½®ï¼Œå…·ä½“æè¿°å¦‚ä¸‹ï¼š

```java
//è¿™ä¸ªåœ°æ–¹ç®—æ³•çš„æ ¸å¿ƒå…¶å®æ˜¯ï¼š
//æ¯æ¬¡éƒ½æŠŠä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç§»å‘é˜Ÿé¦–ï¼š
//è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ”¶çœ‹éœ€è¦ä¸€ä¸ªå‡çš„å¤´èŠ‚ç‚¹dummyï¼Œè€Œåæ¯æ¬¡å°†headçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ç§»å‘å¤´èŠ‚ç‚¹
//ä¸¾ä¾‹æ¥è¯´ï¼š
//å¯¹äº 1 -> 2 -> 3 -> 4 -> 5 -> 6
//é¦–å…ˆæ–°å¢ä¸€ä¸ªå¤´èŠ‚ç‚¹0ï¼š
//0 -> 1 -> 2 -> 3 -> 4 -> 5 -> 6
//è€Œå
//(pre)0 -> (head)1 -> (tmp)2 -> 3 -> 4 -> 5 -> 6
//æˆ‘ä»¬æŠŠtmpç§»åŠ¨å‘é˜Ÿé¦–ï¼š
//(pre)0 -> 2 -> (head)1 -> (tmp)3 -> 4 -> 5 -> 6
//ç»§ç»­:
//(pre)0 -> 3 -> 2 -> (head)1 -> (tmp)4 -> 5 -> 6
//ä»¥æ­¤ç±»æ¨ï¼Œæœ€ç»ˆå¾—åˆ°ç»“æœ
//è¿™ä¸ªæ–¹æ³•å…¶å®æ•´ä½“æ¥è¯´æ˜¯æ¯”åŸæ–¹æ³•å¤æ‚çš„å¤šçš„ï¼Œè¿™ä¸ªé¢˜æ²¡å•¥æ„ä¹‰ï¼Œä¸»è¦é’ˆå¯¹ä¸‹ä¸€é¢˜LC. 92
```

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```java
public ListNode reverseList1(ListNode head) {
    if (head == null || head.next == null) {
      return head;
    }
    ListNode pre = new ListNode(0);
    pre.next = head;
    while (head.next != null) {
        ListNode tmp = head.next;
        head.next = tmp.next;
        tmp.next = pre.next;
        pre.next = tmp;
    }
    return pre.next;
}
```

è¿™ä¸ªç®—æ³•æœ‰ç‚¹è´¹åŠ›ä¸è®¨å¥½çš„æ„æ€ï¼Œä½†åœ¨ä¸€äº›è¾ƒéš¾çš„ç®—æ³•é¢˜å‹ä¸­æœ‰å¥‡æ•ˆï¼š

å¦‚LC. 92ï¼š

```java
92. åè½¬é“¾è¡¨ II
ç»™å®šé“¾è¡¨åŠå…¶æ•´æ•°mã€n:å°†é“¾è¡¨ä¸­ç¬¬mä¸ªèŠ‚ç‚¹ä¸ç¬¬nä¸ªèŠ‚ç‚¹ä¹‹é—´çš„éƒ¨åˆ†ç¿»è½¬
```

è¿™ä¸ªé¢˜å¦‚æœç”¨å¸¸è§„æ–¹æ³•æ¥å†™çš„è¯ï¼Œéœ€è¦è€ƒè™‘çš„ä¸œè¥¿å¯å¤šäº†ï¼š

```java
1. é¦–å…ˆéœ€è¦è®°å½•mä¹‹å‰çš„èŠ‚ç‚¹ä»¥åŠç¬¬mä¸ªèŠ‚ç‚¹.
2. ä»måˆ°nï¼Œæ‰§è¡Œå¸¸è§„ç¿»è½¬ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒåŸç¬¬nä¸ªèŠ‚ç‚¹ä¹Ÿè¦è®°å½•ã€‚
3. è¿™ä¸ªæ—¶å€™é“¾è¡¨å·²ç»è¢«æ‹†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼Œæœ€åéœ€è¦ä¾æ®ä¹‹å‰è®°å½•çš„èŠ‚ç‚¹(å…¶å®ä¹Ÿå°±æ˜¯æ–­å¼€åŸé“¾è¡¨çš„ä½ç½®èŠ‚ç‚¹)å°†ä¸‰éƒ¨åˆ†é‡æ–°è¿æ¥ã€‚
```

è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šå‘ç°ï¼Œä¹‹å‰é‚£ä¸ªçœ‹èµ·æ¥åˆ«æ‰­çš„ç¿»è½¬é“¾è¡¨ç®—æ³•å°±æœ‰äº†å¤§ç”¨å¤„ï¼š

```java
1.ä»ç„¶éœ€è¦éå†å¾—åˆ°ç¬¬mä¸ªèŠ‚ç‚¹åŠå…¶ä¹‹å‰çš„èŠ‚ç‚¹.
2.ç›´æ¥ä»måˆ°nå¾ªç¯æ‰§è¡Œç¿»è½¬å³å¯ã€‚
```

è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±ä¼šå‘ç°ï¼Œç”±äºä¹‹å‰é‚£ç§ç®—æ³•çš„ç‰¹æ®Šç»“æ„ï¼Œå°±çœç•¥äº†æœ€ä¸ºéº»çƒ¦çš„æ–­ç‚¹è®°å½•ä»¥åŠé‡æ–°è¿æ¥è¿‡ç¨‹ï¼Œåœ¨ç¿»è½¬çš„è‡ªç„¶è¿‡ç¨‹ä¸­ï¼Œè¿™äº›ä¸œè¥¿éƒ½æ˜¯è‡ªç„¶è€Œç„¶å°±å®Œæˆäº†çš„ã€‚

## ç¬¬ä¸ƒç«  éšæœº

### 7-1 ç­‰æ¦‚ç‡æŠ½å–æ³•

å…ˆæ¥ä¸ªèƒŒæ™¯ï¼š

å†™ä¸ªç®—æ³•ï¼Œä»nä¸ªæ•°ä¸­éšæœºæŠ½å–mä¸ªæ•°ï¼Œ

ä¸€ä¸ªå¾ˆå®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•æ˜¯ï¼š

```java
1. ç¬¬ä¸€ä¸ªæ•°ä»nä¸ªæ•°ä¸­éšæœºå–ï¼Œå–åˆ°å¤šå°‘ç®—å¤šå°‘ã€‚
2. ä¹‹åçš„æ•°å­—ä¾æ—§æ˜¯ä»nä¸ªæ•°ä¸­éšæœºå–ï¼Œä½†æ˜¯ä¸€æ—¦å–åˆ°çš„æ•°å­—è¢«é€‰æ‹©è¿‡ï¼Œåˆ™æŠ›å¼ƒï¼Œç»§ç»­éšæœºå–ã€‚
```

è¿™ä¸ªæ–¹æ³•ä½¿ç”¨javaæœ¬èº«çš„`random`æ–¹æ³•å¾ˆç®€å•ï¼Œæˆ‘ä»¬è¿™é‡Œä¹Ÿä¸è®¨è®ºå…·ä½“å®ç°ï¼Œè€Œæ˜¯è®¨è®ºè¿™ä¸ªä¸œè¥¿ï¼Œä»–çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿä¸‹é¢æ˜¯æ¨å¯¼è¿‡ç¨‹ã€‚

```java
å‡è®¾æˆ‘ä»¬æŸä¸€ä¸ªæ•°çš„æŠ½å–ä¸­ï¼Œå‰é¢å·²ç»é€‰ä¸­äº†xä¸ªæ•°ï¼Œé‚£ä¹ˆï¼š
1.ä¸€æ¬¡æŠ½å–æˆåŠŸçš„æ¦‚ç‡ä¸ºï¼š1 - x / nï¼›
2.äºŒæ¬¡æŠ½å–æˆåŠŸçš„æ¦‚ç‡ä¸ºï¼š(1 - x / n)* (x / n)
3.ä¸‰æ¬¡æ¬¡æŠ½å–æˆåŠŸçš„æ¦‚ç‡ä¸ºï¼š(1 - x / n)* (x / n) ^ 2
...
k.kæ¬¡æŠ½å–æˆåŠŸæ¦‚ç‡ä¸ºï¼š(1 - x / n)* (x / n) ^ 3

å¥½äº†ï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼Œè®¡ç®—æ‰€éœ€æ¬¡æ•°çš„æœŸæœ›å€¼ï¼š
S = 1 * P(1) + 2 * P(2) + ... + k * P(k) = n / n - x;
(è¿™é‡Œå…¶å®æ˜¯ä¸€ä¸ªå…¸å‹çš„ç­‰å·® * ç­‰æ¯”æ•°åˆ—çš„æ±‚å’Œå–æé™ï¼Œæ±‚å’Œçš„æ–¹æ³•æ˜¯äº¤é”™ç›¸å‡æ³•(é«˜ä¸­çŸ¥è¯†ï¼Œæˆ‘è¿˜è®°å¾—ğŸ˜„))

æœ€åä¸€æ­¥ï¼Œæ¯ä¸€ä¸ªæ•°çš„æŠ½å–æœŸæœ›æ¬¡æ•°æƒ³åŠ å¾—åˆ°ï¼š
Sn = n / n + n / n - 1 + n / n - 2 + ... + n / n - m + 1 = O(n(lg(n) - lg(n - m)))
å¯ä»¥å‘ç°ï¼Œæœ€åæƒ…å†µä¸‹, m = n - 1(m = nè¿˜æŠ½ä¸ªé¸¡å„¿)ï¼Œæ—¶é—´å¤æ‚åº¦è¾¾åˆ°O(nlog(n))çº§åˆ«ã€‚
æ˜¾ç„¶æ˜¯ä¸å¯æ¥å—çš„ã€‚
```

### 7-2 è“„æ°´æ± æŠ½å–æ³•

â€‹		è“„æ°´æ± æŠ½å–æ³•é€‚ç”¨äºè¿™æ ·ä¸€ç§åœºæ™¯ï¼Œå³nä¸­éšæœºæŠ½1ï¼Œæˆ–nä¸­éšæœºæŠ½mï¼Œæˆ‘ä»¬å®ç°ä¸çŸ¥åˆ°næœ‰å¤šå¤§ï¼Œå¯¹åº”äºå®é™…çš„åº”ç”¨åœºæ™¯æ¥è¯´ï¼Œå°±æ˜¯ï¼šè®¾æƒ³è¿™æ ·ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬éšæœºæŠ½å–çš„å¯¹è±¡æ˜¯ä¸€ä¸ªä¸æ–­ç»™å‡ºçš„è¾“å…¥æµï¼Œå…¶ä¸­çš„æ•°å­—å¯èƒ½è¾¾åˆ°ç™¾äº¿çº§åˆ«ï¼Œæˆ‘ä»¬æœ¬åœ°çš„å†…å­˜æ— æ³•åŒæ—¶å­˜å‚¨è¿™ä¹ˆå¤§é‡çš„æ•°æ®ï¼Œè¿™å°±å¯¼è‡´æˆ‘ä»¬æ— æ³•åœ¨è¾“å…¥æµå…¨éƒ¨ç»™å‡ºåå†æ‰§è¡Œéšæœºæ“ä½œï¼Œå› æ­¤å¿…é¡»åœ¨è¾“å…¥æµè¾“å…¥çš„åŒæ—¶è¿›è¡Œå¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°è“„æ°´æ± æŠ½å–æ³•äº†ï¼š

> né€‰1

â€‹		né€‰1è¿™ç§æ¯”è¾ƒç®€å•ï¼š

```
æˆ‘ä»¬éå†æ•´ä¸ªæµï¼Œåœ¨éå†æ¯ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå‡æ‰§è¡Œä¸€æ¬¡éšæœºæ“ä½œï¼š
1.å¯¹äºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬æ€»æ˜¯é€‰ä¸­ï¼Œæˆ–è€…è¯´ä»¥1/1çš„æ¦‚ç‡å†³å®šæ˜¯å¦é€‰ä¸­ï¼Œé€‰ä¸­åï¼Œæš‚æ—¶å®šä½æŠ½å–å€¼ã€‚
2.å¯¹äºç¬¬kä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬ä»¥k/1çš„æ¦‚ç‡å†³å®šæ˜¯å¦é€‰ä¸­ï¼Œè‹¥é€‰ä¸­ï¼Œåˆ™ä»£æ›¿åŸæœ‰çš„æŠ½å–å€¼æˆä¸ºæš‚å®šçš„æŠ½å–å€¼ã€‚
è¿™æ ·ï¼Œä¸€æ¬¡éå†ç»“æŸä»¥åï¼Œæœ€ç»ˆçš„æŠ½å–å€¼å³ä¸ºæˆ‘ä»¬éœ€è¦çš„å€¼ã€‚

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

æ¥ä¸‹é‡Œï¼Œæˆ‘ä»¬æ¥æ¨å¯¼ä¸€ä¸‹è¿™ç§æ–¹æ¡ˆçš„åˆç†æ€§ï¼š
ç®€å•æ¥è¯´ï¼Œæ¥çœ‹çœ‹ç¬¬mä¸ªå…ƒç´ è¢«é€‰ä¸­çš„æ¦‚ç‡ï¼š
è¿™é‡Œå°±ä¼šæœ‰ä¸¤ä¸ªæ¡ä»¶ï¼š
1.éå†åˆ°ç¬¬mä¸ªå…ƒç´ æ˜¯ï¼Œä»–å¿…é¡»è¢«é€‰ä¸­ã€‚
2.mä¹‹åçš„å…ƒç´ å¿…é¡»å…¨éƒ¨ä¸è¢«é€‰ä¸­ã€‚
é‚£ä¹ˆæœ€åçš„æ¦‚ç‡å³ä½¿
P = 1/m * m/m+1 * ... * k-1/k = 1/k
è¿™ä¹ˆçœ‹ï¼Œå°±æ²¡æœ‰é—®é¢˜äº†ã€‚
```

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```java
//è“„æ°´æ± æŠ½æ ·æ³• né€‰1
public int pick1(int[] nums) {
    int res = -1;
    Random random = new Random();
    for (int i = 0; i < nums.length; i++) {
        if (random.nextInt(i + 1) == 0) {
            res = i;
        }
    }
    return res;
}
```



> né€‰m

né€‰må°±å¤æ‚çš„å¤šäº†ï¼š

```
æˆ‘ä»¬åŒæ ·éå†æ•´ä¸ªæµï¼Œä½†æ˜¯å‰mçš„å…ƒç´ ä¸ç»è¿‡éå†ï¼Œç›´æ¥æ”¾åˆ°ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œä¹‹åå¯¹äºç¬¬kä¸ªå…ƒç´ (k>m)ï¼Œé¦–å…ˆä»¥m/kçš„æ¦‚ç‡å†³å®šæ˜¯å¦é€‰ä¸­ï¼Œé€‰ä¸­åï¼Œå†ä»¥1/mçš„æ¦‚ç‡éšæœºæŠ½å–å®¹å™¨ä¸­çš„ä¸€ä¸ªå…ƒç´ ä¸ä¹‹äº¤æ¢ï¼Œè¿™æ ·æœ€åå®¹å™¨ä¸­å‰©ä½™çš„å…ƒç´ å³ä¸ºéšæœºæŠ½å–çš„ç»“æœï¼Œä¸”å¯ä¿è¯ï¼Œæ¯ä¸€ä¸ªå…ƒç´ è¢«é€‰ä¸­çš„æ¦‚ç‡éƒ½æ˜¯m/n
  
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

åŒæ ·ï¼Œæ¥åšæ¨å¯¼ï¼Œä»¥ç¬¬kä¸ªå…ƒç´ ä¸ºä¾‹(å‡è®¾k > m),è¿™ä¸ªå…ƒç´ è¦è¢«é€‰ä¸­ï¼ŒåŒæ ·æœ‰å‡ ä¸ªæ¡ä»¶éœ€è¦æ»¡è¶³ï¼š
1.å…¶æœ¬èº«å¿…é¡»åœ¨éå†è¿‡ç¨‹ä¸­è¢«é€‰ä¸­ä¸å®¹å™¨ä¸­çš„ä»»æ„å…ƒç´ äº¤æ¢ã€‚
2.å…¶åçš„æ¯ä¸ªå…ƒç´ éƒ½å¿…é¡»ä¸è¢«é€‰ä¸­æˆ–è€…è¢«é€‰ä¸­ä½†æ˜¯ä¸å®¹å™¨ä¸­å…ƒç´ äº¤æ¢æ—¶æœªå½±å“è¯¥å…ƒç´ ã€‚
1æ¡ä»¶ä¸­çš„æ¦‚ç‡å¾ˆç®€å•ï¼Œå°±æ˜¯P1 = m/k
2æ¡ä»¶å¤æ‚ä¸€äº›ï¼Œæˆ‘ä»¬å…ˆæ¥åªçœ‹é’ˆå¯¹k+1è¿™ä¸ªå…ƒç´ çš„æ¦‚ç‡ï¼š
P(k+1) = k+1-m/k+1 +  m/k+1 * m-1/m = k / k + 1
å“ï¼Œè¿™æ ·ç»“åˆèµ·æ¥å°±æ˜¯
P = P1 * P(k+1) * P(k+2) * ... * P(n)
  = m/k * k/k+1 * k+1/k+2 * n-1/n
  = m/n
```

```java
//è“„æ°´æ± æŠ½æ ·æ³• né€‰m
public int[] pick2(int[] nums, int m) {
    int[] res = Arrays.copyOf(nums, m);
    Random ran = new Random();
    for (int i = m; i < nums.length; i++) {
        int randomIdx = ran.nextInt(i + 1);
      	//æ³¨æ„è¿™é‡Œï¼Œæ˜¯ä¸ªå¾ˆå¥½çš„æŠ€å·§ï¼Œå› ä¸ºrandomIdx < mæ—¶ï¼Œå®é™…ä¸Šå…¶å–å€¼å·²ç»æ˜¯ç»è¿‡1/mæ¦‚ç‡æŠ½æ ·ä¹‹åçš„å€¼äº†ã€‚
        if (randomIdx < m) {
            res[randomIdx] = nums[i];
        }
    }
    return res;
}
```

> æ´—ç‰Œç®—æ³•







## æ’åºç®—æ³•æ€»ç»“

### 1 æ¦‚è¿°

> æ’å…¥æ’åº

åŸºæœ¬æ€è·¯ä¸ºï¼šæ•°ç»„åˆ†ä¸ºä¸¤å †ï¼Œä¸€å †å·²å®Œæˆæ’åºï¼Œå¦ä¸€å †ç­‰å¾…æ’åºï¼Œæ¯æ¬¡ä»åä¸€ä¸ªå †ä¸­å–å‡ºä¸€ä¸ªå…ƒç´ ï¼Œæ’å…¥åˆ°å‰å †çš„æ­£ç¡®ä½ç½®å³å¯ã€‚

```java
public void insertSort(int[] nums) {
    if (nums == null || nums.length <= 1) {
        return;
    }
    for (int i = 1; i < nums.length; i++) {
        int tmp = nums[i];
        int j = i - 1;
        while (j >= 0 && nums[j] >= tmp) {
            nums[j + 1] = nums[j];
            j--;
        }
        nums[j + 1] = tmp;
    }
}
```

æ’å…¥æ’åºæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œä¸ºç¨³å®šæ’åº(å³æ’åºèµ·å‰åä¿è¯åŸæ•°ç»„ä¸­ç›¸åŒå¤§å°å…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¿æŒä¸å˜)


> é€‰æ‹©æ’åº

è¿™ä¸ªæ˜¯æœ€æœ´ç´ çš„ä¸€ç§æ’åºæ–¹æ³•ï¼Œæ¯æ¬¡éƒ½éå†æ•°ç»„ï¼Œé€‰å‡ºæœ€å°å€¼æ”¾åœ¨æ•°ç»„ç»„å¤´ï¼Œå¾ªç¯ä¸‹å»å³å¯æ‰¾åˆ°æœ€å°å€¼ã€‚

```java
public void selectSort(int[] nums) {
    if (nums == null || nums.length <= 1) {
        return;
    }
    for (int i = 0; i < nums.length; i++) {
        int min = i;
        for (int j = i + 1; j < nums.length; j++) {
            if (nums[j] <= nums[min]) {
                min = j;
            }
        }
        int tmp = nums[min];
        nums[min] = nums[i];
        nums[i] = tmp;
    }
}
```

æ’å…¥æ’åºæ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œæœ€å¥½ä¸ºO(n)(å³åŸæ•°ç»„æœ‰åº)ï¼Œä¸ºä¸ç¨³å®šæ’åº

> å †æ’åº

å€ŸåŠ©å †è¿™ä¸ªæ•°æ®ç»“æ„æ’åºï¼Œå †æ˜¯è¿™æ ·ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¸€ä¸ªäºŒå‰æ ‘ï¼Œæ¯ä¸ªå­æ•°çš„æ ¹ç»“ç‚¹å‡ä¸ºè¯¥å­æ•°çš„æœ€å¤§(å°)å€¼ï¼Œæœ‰è¿™ä¸ªå †ä»¥åï¼Œå‡è®¾ä¸ºæœ€å¤§å †ï¼Œæ¯æ¬¡å°†æ ¹èŠ‚ç‚¹å’Œæœ«å°¾äº¤æ¢ï¼Œè€Œåé‡æ–°æ’åºç®€å†æœ€å¤§å †ï¼Œå¾ªç¯å¾€å¤å³å¯å®Œæˆæœ€åçš„æ’åºï¼Œå…¶ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œæ—¶é—´è´Ÿè´£åº¦ä¸ºO(nlgn)

```java
public int[] HeepSort(int[] nums) {
    int edge = (nums.length - 1) / 2;
    for (int i = edge; i >= 0 ; i--) {
        fixHeep(nums, i, nums.length);
    }
    for (int i = nums.length - 1; i >= 1 ; i--) {
        swapInArray(nums, 0, i);
        fixHeep(nums, 0, i);
    }
    return nums;
}

public void fixHeep(int[] nums, int root, int length) {
    int largest = root;
    int left = 2 * root + 1;
    int right = 2 * root + 2;
    if (left < length && nums[left] > nums[largest]) {
        largest = left;
    }
    if (right < length && nums[right] > nums[largest]) {
        largest = right;
    }
    if (largest != root) {
        swapInArray(nums, largest, root);
        fixHeep(nums, largest, length);
    }
}
```

æ—¶é—´å¤æ‚åº¦ä¸ºO(nlgn)ã€‚

> å†’æ³¡æ’åº

å†’æ³¡æ’åºåŸºæœ¬æ€è·¯ä¸ºä¸¤ä¸¤äº¤æ¢ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ä¿è¯å…¶ç›¸å¯¹é¡ºåºï¼Œå¾ªç¯è¿›è¡Œç›´åˆ°æ— éœ€äº¤æ¢å³å¯ï¼Œè¿™é‡Œå®é™…æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå®Œæˆç¬¬ä¸€æ¬¡äº¤æ¢å¾ªç¯åï¼Œå¯ä¿è¯æœ«å°¾çš„å…ƒç´ ä¸€å®šæ˜¯æœ€å¤§å€¼ï¼Œæ— éœ€å†è¡Œäº¤æ¢ï¼Œä¸‹ä¸€æ¬¡åªéœ€è¦ä»n-1ä¸‹æ ‡å¼€å§‹å³å¯ã€‚

```java
public void bubbleSort(int[] nums) {
    if (nums == null || nums.length <= 1) {
        return;
    }
    boolean sorted = false;
    for (int i = nums.length - 1; i > 0 && !sorted ; i--) {
        sorted = true;
        for (int j = 0; j < i; j++) {
            if (nums[j] > nums[j + 1]) {
                int tmp = nums[j];
                nums[j] = nums[j + 1];
                nums[j + 1] = tmp;
                sorted = false;
            }
        }
    }
}
```

æ ‡å‡†å†’æ³¡æ’åº(ä¸å¸¦ä¸Šé¢è¿™ä¸ª`sorted`æ ‡è®°ä½)çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œè€Œä¸Šé¢è¿™ç§æ’åºç®—æ³•å…¶å¹³å‡å¤æ‚åº¦ä¸ºO(n^2)ï¼Œä½†æœ€å¥½æƒ…å†µä¸‹åˆ™ä¸ºO(n)

> å½’å¹¶æ’åº

ä»£ç å¦‚ä¸‹ï¼š

```java
public int[] mergeSort(int[] nums) {
    if (nums.length > 1) {
        int mid = (nums.length - 1) / 2;
        int[] left = Arrays.copyOfRange(nums, 0, mid + 1);
        int[] right = Arrays.copyOfRange(nums, mid + 1, nums.length);
        left = mergeSort(left);
        right =mergeSort(right);
        return merged(left,right);
    } else {
        return nums;
    }
}

public int[] merged(int[] a, int[] b) {
    int[] res = new int[a.length + b.length];
    int i = 0, j = 0, cur = 0;
    while (i < a.length && j < b.length){
        if (a[i] <= b[j]) {
            res[cur++] = a[i++];
        } else {
            res[cur++] = b[j++];
        }
    }
    if (i == a.length) {
        for (int k = j; k < b.length; k++) {
            res[cur++] = b[j++];
        }
    }
    if (j == b.length) {
        for (int k = i; k < a.length; k++) {
            res[cur++] = a[i++];
        }
    }
    return res;
}
```

è¯¥ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(nlgn)ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(n)

> å¿«é€Ÿæ’åº

å¿«æ’çš„åŸºæœ¬æ€è·¯æ˜¯ï¼Œæ¯æ¬¡é€‰å–å…¶ä¸­ä¸€ä¸ªæ•°å­—(å¯å–æœ€åä¸€ä¸ªæˆ–è€…éšæœºå–ä¸€ä¸ª)rï¼Œå°†æ•°ç»„åŸå€åœ°åˆ†å¼€ï¼Œå°†å¤§äºrçš„æ”¾åœ¨rå³è¾¹ï¼Œå°äºrçš„æ”¾åœ¨rå·¦è¾¹ï¼Œè€Œåé€’å½’åœ°å¯¹è¿™ä¸¤ç»„å¾ªç¯è¿›è¡Œä¸Šè¿°æ“ä½œã€‚

```java
public void quick(int[] nums, int p, int q) {
    if (p >= q) {
        return;
    }
    int tail = nums[q];
    int dummy = p - 1;
    for (int i = p; i < q; i++) {
        if (nums[i] <= tail) {
            dummy++;
            swap(nums, dummy, i);
        }
    }
    swap(nums, dummy + 1, q);
    quick(nums, p, dummy);
    quick(nums,dummy + 2, q);
}

public void swap(int[] nums, int p, int q) {
    int tmp = nums[p];
    nums[p] = nums[q];
    nums[q] = tmp;
}
```

å¿«æ’çš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(nlgn)ï¼Œæœ€å¥½ä¸ºO(nlgn)ï¼Œæœ€åä¸ºO(n^2)ï¼Œä½†ä½œä¸ºä¸€ç§åŸå€æ’åºï¼Œå¿«æ’çš„ç©ºé—´å¤æ‚åº¦è¯¾è®¤ä¸ºä¸ºO(1)

### 2 ä¾‹é¢˜

```
ç¬¬Kå¤§çš„å…ƒç´ ï¼š
è¾“å…¥ä¸€ä¸ªintå‹æ•°ç»„numså’Œä¸€ä¸ªæ­£æ•´æ•°kï¼Œè¦æ±‚è¿”å›è¯¥æ•°ç»„ä¸­ç¬¬kå¤§çš„æ•°å­—
```

è¿™ä¸ªé¢˜ç›®çš„æ€ç»´æ˜¯ä½¿ç”¨å¿«é€Ÿæ’åºç±»ä¼¼çš„æ€æƒ³ï¼Œå…ˆå–æœ«ä½æ•°å­—æŒ‰ç…§å¿«æ’çš„è§„åˆ™è¿›è¡Œåˆ†åŒºï¼Œå¾—åˆ°åˆ†å‰²æ•°å­—ä¸‹æ ‡

1. è‹¥åˆ†å‰²æ•°å­—ä¸‹æ ‡æ¥çœ‹ï¼Œç›®æ ‡æ•°å­—åœ¨ååŠåˆ†åŒºï¼Œåˆ™ç›´æ¥åœ¨ååŠåˆ†åŒºå¯»æ‰¾ç¬¬kå¤§çš„æ•°å­—
2. è‹¥ä»åˆ†å‰²æ•°å­—ä¸‹æ ‡æ¥çœ‹ï¼Œç›®æ ‡æ•°å­—åœ¨å‰åŠåˆ†åŒºï¼Œåˆ‡åˆ†å‰²æ•°æ˜¯ç¬¬må¤§çš„æ•°å­—ï¼Œåˆ™åœ¨å‰åŠæ®µä¸­å¯»æ‰¾ç¬¬k - må¤§çš„æ•°ç»„

å¦‚æ­¤åå¤é€’å½’å³å¯å¾—åˆ°ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼Œæ³¨æ„ï¼Œè¿™é‡Œä½¿ç”¨åŸºäºéšæœºæ•°çš„æ’åºï¼Œæ—¶é—´å¤æ‚åº¦æ›´å¥½ã€‚

```java
class Solution {
    public int findKthLargest(int[] nums, int k) {
        return findKthLargestHelper(nums, 0, nums.length - 1, nums.length - k);
    }

    public int findKthLargestHelper(int[] nums, int l, int r, int k) {
        int s = seperate(nums, l, r);
        if (s < k) {
            return findKthLargestHelper(nums, s + 1 + l, r, k - s - 1);
        } else if (s > k) {
            return findKthLargestHelper(nums, l, s - 1 + l, k);
        } else {
            return nums[s + l];
        }
    }

    public int seperate(int[] nums, int l, int r) {
        if (l == r) {
            return 0;
        }
        Random random = new Random();
        int c = random.nextInt(r - l  + 1) + l;
        swap(nums, c, r);
        int start = l - 1;
        int target = nums[r];
        for (int i = l; i < r; i++) {
            if (nums[i] < target) {
                swap(nums, i, ++start);
            }
        }
        swap(nums, r, ++start);
        return start - l;
    }

    public void swap(int[] nums, int a, int b) {
        int tmp = nums[a];
        nums[a] = nums[b];
        nums[b] = tmp;
    }
}
```

## ç¬¬å…«ç«  å­—ç¬¦ä¸²

å­—ç¬¦ä¸²çš„é¢˜ç›®å…±åˆ†ä¸º5ä¸ªå¤§ç±»ï¼Œ

### **1.åŒåˆ†å¼‚æ„å­—ç¬¦ä¸²ï¼ˆå¦‚"abc"ä¸"cba"ï¼‰**

è¿™éƒ¨åˆ†ä¸€èˆ¬éƒ½æ˜¯è®¡æ•°æ’åºï¼š

```java
//ç«¥å­—æ¯å¼‚åºè¯åˆ¤æ–­
public boolean isAnagrame(String s1, String s2) {
    int[] count = new int[26];
    for (int i = 0; i < s1.length(); i++) {
        count[s1.charAt(i) - 'a']++;
        count[s2.charAt(i) - 'a']--;
    }
    for (int num:
         count) {
        if (num != 0) {
            return false;
        }
    }
    return true;
}
```

è¿™ä¸ªä¸éœ€è¦å¤šè®²ã€‚

### **2.å­å­—ç¬¦ä¸²SubString**

è¿™ä¸ªä¸»è¦å°±æ˜¯åŒæŒ‡é’ˆ/æ»‘åŠ¨çª—å£ï¼Œä¾‹é¢˜

> LC 3

```java
//å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²
//è¿™ä¸ªé¢˜ä½œä¸ºæ ‡å‡†çš„å­å­—ç¬¦ä¸²é¢˜ï¼Œè‚¯å®šæ˜¯åŒæŒ‡é’ˆ/æ»‘åŠ¨çª—å£
//è¿™é‡Œçš„ç²¾é«“åœ¨äºï¼Œè¿™é‡Œç”¨çš„æ˜¯åŒæŒ‡é’ˆ
//ä¸€ä¸ªp2, ä¸€ä¸ªiï¼Œiå¥½ç†è§£ï¼Œå°±æ˜¯å½“å‰è€ƒå¯Ÿçš„å­—ç¬¦ç´¢å¼•
//è€Œè¿™ä¸ªp2æœ‰ç‚¹é—¨é“ï¼Œè¿™é‡Œæˆ‘ä»¬çš„ç­–ç•¥æ˜¯ï¼Œ
//iä¸€ç›´å‘å³éå†ï¼Œåªè¦ä¸é‡å¤ï¼Œreså°±å¯ä»¥ä¸€ç›´++,
//è‹¥é‡å¤ï¼Œåˆ™è€ƒå¯Ÿä¸Šä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®oldä¸å½“å‰ç´¢å¼•ä½ç½®içš„å·®è·æ˜¯å¦å½¢æˆæ–°çš„æœ€å¤§å€¼ã€‚è‹¥å½¢æˆåˆ™æ›´æ–°
//åªè¦é‡å¤ï¼Œé‚£ä¹ˆè§£çš„è€ƒå¯Ÿèµ·ç‚¹å°±æ›´æ–°ä¸ºp2ä¸ä¸Šä¸€æ¬¡é‡å¤çš„ç´¢å¼•çš„æœ€å¤§å€¼ã€‚
public int lengthOfLongestSubstring(String s) {
    if (s == null || s.length() == 0) {
        return 0;
    }
    Map<Character, Integer> map = new HashMap<>();
    int p2 = -1;
    int res = 0;
    for (int i = 0; i < s.length(); i++) {
        if (map.containsKey(s.charAt(i))) {
            p2 = Math.max(p2, map.get(s.charAt(i)));
        }
        map.put(s.charAt(i), i);
        res = Math.max(res, i - p2);
    }
    return res;
}
```

> LC. 159è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²

è¿™ä¸ªé¢˜çš„åŸºæœ¬æ€è·¯è¿˜æ˜¯åŒæŒ‡é’ˆï¼Œleftè¿˜æ˜¯æŒ‡å‘æœç´¢èµ·ç‚¹ï¼Œrightä¸ºå½“å‰è€ƒå¯ŸèŠ‚ç‚¹ï¼Œæ³¨æ„ï¼Œè¿™é‡Œç”¨hashMapçš„sizeæ¥æ ‡ç¤ºæ˜¯å¦è¶…è¿‡ä¸¤ä¸ªä¸åŒå­—ç¬¦(HashMapå­˜çš„æ˜¯ç‰¹å®šå­—ç¬¦ä¸²å‡ºç°çš„æœ€åä¸€ä¸ªç´¢å¼•ä½ç½®)ï¼Œè‹¥è¶…å‡ºï¼Œå°†â€œæœ€é å‰çš„é‚£ä¸ªç‰¹å®šç±»å‹å­—ç¬¦â€åˆ é™¤ï¼Œleftä»è¿™ä¸ªå­—ç¬¦çš„æœ€åä¸€ä¸ªç´¢å¼•ä½ç½®é‡æ–°å¼€å§‹è°ƒæŸ¥ï¼Œ

```java
//159. è‡³å¤šåŒ…å«ä¸¤ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²
public int lengthOfLongestSubstringTwoDistinct(String s) {
    if (s == null || s.length() == 0) {
        return 0;
    }
    if (s.length() < 3) {
        return s.length();
    }
    int left = 0;
    int right = 0;
    int res = 0;
    HashMap<Character, Integer> map = new HashMap<>();
    while (right < s.length()) {
        map.put(s.charAt(right), right++);
        if (map.size() <= 2) {
            res = Math.max(res, right - left);
        }
        if (map.size() == 3) {
            //ç²¾é«“åœ¨è¿™é‡Œï¼Œ
            int newLeft = Collections.min(map.values());
            map.remove(s.charAt(newLeft));
            left = newLeft + 1;
            res = Math.max(res, right - left);
        }
    }
    return res;
}
```

### 3.æ‹¬å·åŒ¹é…

è¿™ç§é¢˜çš„ä¸€èˆ¬å¥—è·¯å°±ä¸¤ç§ï¼š

1. ç»“æœåªæœ‰ä¸€ç§çš„ï¼Œä¸€èˆ¬ä½¿ç”¨æ ˆ
2. ç»“æœæœ‰å¤šç§éœ€è¦åˆ—ä¸¾çš„ï¼Œä½¿ç”¨é€’å½’å›æº¯ã€‚

> #### [20. æœ‰æ•ˆçš„æ‹¬å·](https://leetcode-cn.com/problems/valid-parentheses/)

```java
public boolean isValid(String s) {
    if (s == null || s.length() == 0) {
        return true;
    }
    Stack<Character> stack = new Stack<>();
    for (char c : s.toCharArray()) {
        if (c == '{') {
            stack.push('}');
        } else if (c == '[') {
            stack.push(']');
        } else if (c == '(') {
            stack.push(')');
        } else {
            if (stack.isEmpty() || stack.pop() != c) {
                return false;
            }
        }
    }
    return stack.isEmpty();
}
```

> #### [32. æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode-cn.com/problems/longest-valid-parentheses/)

```java
//32. æœ€é•¿æœ‰æ•ˆæ‹¬å·
//è¿™ä¸ªé¢˜æœ¨å§‹ç»ˆæŠŠæ¡ä¸€ä¸ªåŸåˆ™ï¼Œä»»æ„æ—¶åˆ»stacké‡Œè¾¹å­˜å‚¨çš„éƒ½æ˜¯å½“å‰è¿˜æœªé…å¯¹çš„(çš„ç´¢å¼•ï¼Œå¹¶ä¸”
//å½“å‰è€ƒå¯Ÿç‚¹iä¸stackä¸­æ‰€æœ‰å…ƒç´ ä¹‹é—´çš„)å‡å·²è¢«é…å¯¹æ¸…é™¤ã€‚
public int longestValidParentheses(String s) {
    Stack<Integer> stack = new Stack<>();
    //å½“å‰è€ƒå¯Ÿå­ä¸²å§‹ç»ˆä¸º(j, i]
    int res = 0;
    for (int i = 0, j = -1; i < s.length(); i++) {
        if (s.charAt(i) == '(') {
            stack.push(i);
        } else {
            //è¿™ä¸ªå¥½ç†è§£ï¼Œå‘ç°ä¸€ä¸ª)å´æ²¡æœ‰(ä¸ä¹‹é…å¯¹ï¼Œé‚£æœ¬è½®ç»“æŸï¼Œå°†jæŒ‡å‘iï¼Œé‡æ–°å¼€å§‹ä¸‹ä¸€è½®è®¡æ•°
            if (stack.isEmpty()) {
                j = i;
            } else {
                stack.pop();
                //popä¹‹åå³ä¸ºç©ºï¼Œä»£è¡¨æœ¬è½®ä¸ºå®Œç¾é…å¯¹ï¼Œé•¿åº¦ä¸ºi - j
                if (stack.isEmpty()) {
                    res = Math.max(res, i - j);
                } else {
                    //popä»¥åä¸ä¸ºç©ºï¼Œè¯´æ˜æœ¬è½®åˆ°ç›®å‰ä½ç½®ï¼Œå‰é¢ä»æœ‰ä¸€ä¸ªæœªé…å¯¹çš„ï¼ˆï¼Œé‚£ä¹ˆï¼Œä»è¿™ä¸ªå…ƒç´ å¼€å§‹
                    //åˆ°iä¸ºæ­¢çš„å…ƒç´ åºåˆ—æ‰æ˜¯å½“å‰ç¬¦åˆè¦æ±‚çš„åºåˆ—
                    res = Math.max(res, i - stack.peek());
                }
            }
        }
    }
    return res;
}
```

> #### [22. æ‹¬å·ç”Ÿæˆ](https://leetcode-cn.com/problems/generate-parentheses/)

```java
//22. æ‹¬å·ç”Ÿæˆ
public List<String> generateParenthesis(int n) {
    List<String> res = new ArrayList<>();
    totalLeft = n;
    generateParenthesisHelper(res, new StringBuilder(), n * 2, 0);
    return res;
}

private int totalLeft = 0;

public void generateParenthesisHelper(List<String> res, StringBuilder sb, int total, int leftCnt) {
    if (total == 0 ) {
        res.add(sb.toString());

    }
    if (totalLeft > 0) {
        sb.append('(');
        totalLeft--;
        generateParenthesisHelper(res, sb,
                                  total - 1, leftCnt + 1);
        sb.delete(sb.length() - 1, sb.length());
        totalLeft++;
    }
    if (leftCnt > 0) {
        sb.append(')');
        generateParenthesisHelper(res, sb,
                                  total - 1, leftCnt - 1);
        sb.delete(sb.length() - 1, sb.length());
    }
}
```

### 4.å›æ–‡

 <img src="/Users/zhanglulu/Library/Application Support/typora-user-images/image-20210316011638063.png" alt="image-20210316011638063" style="zoom: 25%;" />

> #### [125. éªŒè¯å›æ–‡ä¸²](https://leetcode-cn.com/problems/valid-palindrome/)

è¿™ç§åˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²çš„æ–¹å¼

```java
public boolean isPalindrome(String s) {
    int start = 0, end = s.length() - 1;
    while (start <= end) {
        while (start < end && !Character.isLetterOrDigit(s.charAt(start))) {
            start++;
        }
        while (end > start && !Character.isLetterOrDigit(s.charAt(end))) {
            end--;
        }
        char s1 = s.charAt(start);
        char s2 = s.charAt(end);
        if (Character.toLowerCase(s1) != Character.toLowerCase(s2)) {
            return false;
        }
        start++;
        end--;
    }
    return true;
}
```

# ç®—æ³•è¯¾ç¬”è®°(ä¸‹éƒ¨)

## ç¬¬å››ç«  æ ‘

ä¸çŸ¥é“ä¸ºå•¥ï¼Œç…§ç†æ¥è¯´ï¼Œæ ‘è¿™ç©æ„é—®çš„åº”è¯¥æ¯”è¾ƒå°‘ï¼Œä½†æˆ‘TMé¢äº†è¿™ä¹ˆå¤šå®¶å…¬å¸ï¼Œç–¯ç‹‚é—®è¿™ç©æ„ï¼Œæˆ‘è¦ç–¯äº†ï¼Œç…§ä¾‹æ€»ç»“ä¸‹å§ï¼Œå…¶å®å°±é‚£ä¹ˆå‡ ç§é¢˜ç›®ã€‚

é¦–å…ˆæ¥è¯´ä¸ªåŸºæœ¬è§„åˆ™ï¼Œæ ‘çš„é¢˜ç›®ä¸€èˆ¬è€ƒå¯Ÿçš„éƒ½æ˜¯DFSã€BFSã€‚

> ä¸‰ç§éå†ï¼ˆéé€’å½’å®ç°ï¼‰

1. å…ˆåºéå†

```java
//å…ˆåºåˆ—éå†ï¼š
public void preOrderTraversal(TreeNode root) {
    if (root == null) {
        return;
    }
    Stack<TreeNode> stack = new Stack<>();
    stack.push(root);
    StringBuilder sb = new StringBuilder();
    while (!stack.isEmpty()) {
        TreeNode tmp = stack.pop();
        sb.append(tmp.val);
        if (tmp.right != null) {
            stack.push(tmp.right);
        }
        if (tmp.left != null) {
            stack.push(tmp.left);
        }
    }
    System.out.println(sb.toString());
}
```

2. ä¸­åºéå†

```java
//ä¸­åºéå†ï¼š
public void midOrderTraversal(TreeNode root) {
    Stack<TreeNode> stack = new Stack<>();
    StringBuilder sb = new StringBuilder();
    TreeNode cur = root;
    while (cur != null || !stack.isEmpty()) {
        while (cur != null) {
            stack.push(cur);
            cur = cur.left;
        }
        if (!stack.isEmpty()) {
            TreeNode tmp = stack.pop();
            sb.append(tmp.val);
            cur = tmp.right;
        }
    }
    System.out.println(sb.toString());
}
```

3. ååºéå†

```java
public void afterOderTraversal(TreeNode root) {
    Stack<TreeNode> stack = new Stack<>();
    StringBuilder sb = new StringBuilder();
    TreeNode cur = root;
    TreeNode prev = null;
    while (cur != null || !stack.isEmpty()) {
        while (cur != null) {
            stack.push(cur);
            cur = cur.left;
        }
        if (!stack.isEmpty()) {
            TreeNode temp = stack.peek();
            if (temp.right == null || prev == temp.right) {
                stack.pop();
                sb.append(temp.val);
                prev = temp;
            } else {
                cur = temp.right;
            }
        }
    }
    System.out.println(sb.toString());
}
```

4. å±‚åºéå†(é”¯é½¿çŠ¶)

```java
//å±‚åºéå†(BFS)
public void levelOderTraversal(TreeNode root) {
    if (root == null) {
        return;
    }
    Queue<TreeNode> queue = new LinkedList<>();
    queue.offer(root);
    StringBuilder sb = new StringBuilder();
    TreeNode last = root, nLast = root;
    while (!queue.isEmpty()) {
        TreeNode temp = queue.poll();
        sb.append(temp.val).append(" ");
        if (temp.left != null) {
            queue.offer(temp.left);
            nLast = temp.left;
        }
        if (temp.right != null) {
            queue.offer(temp.right);
            nLast = temp.right;
        }
        if (temp == last) {
            last = nLast;
            sb.append("\n");
        }
    }
    System.out.println(sb.toString());
}
```

> å…¶ä»–ç±»å‹

#### [114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨](https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/)

```java
public void flatten(TreeNode root) {
    if (root == null) {
        return;
    }
    Stack<TreeNode> stack = new Stack();
    stack.push(root);
    TreeNode prev = null;
    while (!stack.isEmpty()) {
        TreeNode tmp = stack.pop();
        if (prev != null) {
            prev.left = null;
            prev.right = tmp;
        }
        if (tmp.right != null) {
            stack.push(tmp.right);
        }
        if (tmp.left != null) {
            stack.push(tmp.left);
        }
        prev = tmp;
    }
}
```





## ç¬¬åç«  åŠ¨æ€è§„åˆ’

### 10.2ä¾‹é¢˜

> 300 æœ€é•¿é€’å¢å­åºåˆ—

```
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸¥æ ¼é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚

å­åºåˆ—æ˜¯ç”±æ•°ç»„æ´¾ç”Ÿè€Œæ¥çš„åºåˆ—ï¼Œåˆ é™¤ï¼ˆæˆ–ä¸åˆ é™¤ï¼‰æ•°ç»„ä¸­çš„å…ƒç´ è€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºã€‚ä¾‹å¦‚ï¼Œ[3,6,2,7] æ˜¯æ•°ç»„ [0,3,1,6,2,2,7] çš„å­åºåˆ—ã€‚
```

1. DPæ–¹æ³•

  åŠ¨æ€è§„åˆ’æ€è·¯å¦‚ä¸‹ï¼š

```
è¾“å…¥ï¼šint[N] 
çŠ¶æ€ï¼šdp[i]ä¸ºä»nums[i]ä¸ºç»“å°¾çš„æœ€é•¿é€’å¢å­åºåˆ—é•¿åº¦
çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
dp[i] = max{1, dp[j] + 1(j =1...i-1 and nums[i] > nums[j])}
è¿™ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹éœ€è¦è§£é‡Šä¸€ä¸‹ï¼Œé¦–å…ˆé’ˆå¯¹ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼Œæ€»æœ‰ä»–è‡ªèº«æ„æˆä¸€ä¸ªé€’å¢å­åºåˆ—ï¼Œå› æ­¤1æ˜¯ä¸ªä¿åº•é•¿åº¦ã€‚
åœ¨æ­¤åŸºç¡€ä¸Šï¼Œéå†ä¹‹å‰å·²ç»ç®—å¥½çš„dp[j](j < i)ï¼Œå¦‚æœæœ‰nums[j] < nums[i]ï¼Œé‚£ä¹ˆdp[j] + 1å¯ä»¥è¢«çº³å…¥è€ƒè™‘èŒƒå›´å†…ï¼Œæœ€ç»ˆå»ä¸€ä¸ªæœ€å¤§å€¼å³å¯å®Œæˆdp[i]çš„è®¡ç®—ã€‚
æœ€åï¼Œéœ€è¦åœ¨æ‰€æœ‰dp[i] i = 1...Nä¸­å»ä¸€ä¸ªæœ€å¤§å€¼ï¼Œå³ä¸ºæœ€ç»ˆç­”æ¡ˆ
```

```java
public int lengthOfLIS(int[] nums) {
    if (nums == null || nums.length == 0) {
        return 0;
    }
    int[] dp = new int[nums.length];
    Arrays.fill(dp, 1);
    for (int i = 1; i < nums.length; i++) {
        for (int j = 0; j < i; j++) {
            if (nums[i] > nums[j]) {
                dp[i] = Math.max(dp[j] + 1, dp[i]);
            }
        }
    }
    int res = 0;
    for (int value : dp) {
        res = Math.max(res, value);
    }
    return res;
}
```

2. è´ªå¿ƒç®—æ³•

```
é’ˆå¯¹è¿™ä¸ªé¢˜ï¼Œè´ªå¿ƒç®—æ³•æ€è·¯å¦‚ä¸‹ï¼š
æ€ç»´è§’åº¦æ˜¯ï¼šæ¯æ¬¡éƒ½å°½å¯èƒ½çš„å°†æ„é€ è€Œæˆçš„é€’å¢å­åºåˆ—çš„æœ«å°¾æ•°å­—å‹åˆ°æœ€å°(è¿™æ ·æ‰èƒ½åœ¨åç»­çš„æ•°å­—æ‹¼æ¥ä¸­å°½å¯èƒ½æ‹¿åˆ°å¤šçš„é•¿åº¦)


ç»´æŒä¸€ä¸ªListï¼Œå…¶ä¸­ï¼Œlist.get(i)è¡¨ç¤ºï¼Œåœ¨æ‰€æœ‰é•¿åº¦ä¸ºiçš„é€’å¢å­åºåˆ—ä¸­ï¼Œæœ€å°çš„æœ«å°¾æ•°å­—å–å€¼ã€‚
ä»å¤´åˆ°å°¾éå†numsï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¸æ–­æ›´æ–°listï¼Œæœ€ç»ˆæ‹¿åˆ°çš„listé•¿åº¦å³ä¸ºæ‰€éœ€æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚
æ›´æ–°listçš„æ“ä½œä¸ºï¼Œå°†nums[i]ä»listå°¾éƒ¨å¼€å§‹ï¼Œé€æ­¥æ¯”è¾ƒï¼ŒçŸ¥é“æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”nums[i]å°çš„å…ƒç´ ï¼Œè®°ä½å…¶ä¸‹æ ‡jï¼Œä¹‹åå°†j+1ä½ç½®ä¸Šçš„æ•°å­—å……å€¼ä¸ºnums[i]å³å¯ã€‚

æœ€ç»ˆå®Œæˆçš„listé•¿åº¦å³ä¸ºæ‰€éœ€çš„æœ€é•¿å­åºåˆ—é•¿åº¦ã€‚
```

ä»£ç å¦‚ä¸‹ï¼š

```java
public int lengthOfLIS(int[] nums) {
    if (nums == null || nums.length == 0) {
        return 0;
    }
    List<Integer> tmp = new ArrayList<>();
    tmp.add(nums[0]);
    for (int i = 1; i < nums.length; i++) {
        if (nums[i] > tmp.get(tmp.size() - 1)) {
            tmp.add(nums[i]);
        } else {
            int j = tmp.size() - 1;
            while (j >= 0 && tmp.get(j) >= nums[i]) {
                j --;
            }
            if (j != tmp.size() - 1) {
                tmp.set(j + 1, nums[i]);
            }

        }
    }
    return tmp.size();
}
```

ä¸Šé¢è¿™ä¸ªç©æ„çš„æ—¶é—´å¤æ‚åº¦ä¾ç„¶æ˜¯O(n2)ï¼Œå¯ä»¥é€šè¿‡ä¼˜åŒ–ä¸­é—´é‚£ä¸€æ®µç±»ä¼¼æ’å…¥æ’åºçš„ç©æ„ï¼Œé‡‡ç”¨äºŒåˆ†æ³•å‡å°‘æ’å…¥æ‰€éœ€è®¡ç®—ï¼Œå°†ç®—æ³•æ—¶é—´å¤æ‚åº¦å‹ç¼©å€¼O(nlgn)



> èƒŒåŒ…é—®é¢˜(æœ€æœ€ç»å…¸ï¼ï¼ï¼)

1. 01èƒŒåŒ…é—®é¢˜

é—®é¢˜æè¿°ï¼š

```
ç°æœ‰ä¸€ä¸ªå®¹é‡ä¸ºCçš„èƒŒåŒ…ï¼ŒNä»¶ç‰©å“ï¼Œå…¶æ‰€å å®¹é‡ä¸ºw[i](i = 1~N)ï¼Œä»·å€¼ä¸ºv[i](i = 1-N)ï¼Œåœ¨Nä»¶ç‰©å“ä¸­æŒ‘é€‰å‡ ä»¶æ”¾å…¥èƒŒåŒ…ï¼Œä½¿å¾—å…¶æ€»ä»·å€¼æœ€é«˜ï¼Œä¸å¯é‡å¤æ”¾å…¥ã€‚
```

åˆ†æè¿‡ç¨‹ï¼š

```java
çŠ¶æ€ä¸çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
1. çŠ¶æ€å®šä¹‰ï¼šä¸€èˆ¬ä¸ºæœ€ç»ˆæ‰€æ±‚ç»“æœ
2. å‚æ•°ï¼š
3. çŠ¶æ€è½¬ç§»æ–¹ç¨‹: ä¸€ç»´è¡¨ç¤ºå½“å‰å˜é‡ï¼ŒäºŒç»´è¡¨ç¤ºé™åˆ¶æ¡ä»¶
```

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š

```
å®šä¹‰dp[i][j]ä¸ºé€‰æ‹©èŒƒå›´ä¸ºå‰iä»¶ç‰©å“ä¸”èƒŒåŒ…å®¹é‡ä¸ºjæ—¶ï¼Œå¯è·å–çš„æœ€é«˜ä»·å€¼ã€‚
dp[i][j] = 
dp[i - 1][j] (w[i] > j)
Max(dp[i - 1][j], dp[i - 1][j - w[i] + v[i]])

å¦‚æ­¤ï¼Œæœ€ç»ˆæ‰€éœ€ç»“æœå³ä¸ºï¼š
dp[N][C]
```

åŸºäºæ­¤ï¼Œé¦–ç‰ˆä»£ç ä¸ºï¼š

```java
public int baseBackpack(int[] w, int[] v, int N, int C) {
    int[][] dp = new int[N][C + 1];
    for (int i = 0; i <= C; i++) {
        dp[0][i] = i >= w[0] ? v[0] : 0;
    }
    for (int i = 1; i < N; i++) {
        for (int j = 0; j <= C; j++) {
            if (j < w[i]) {
                dp[i][j] = dp[i - 1][j];
            } else {
                dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j - w[i]] + v[i]);
            }
        }
    }
    return dp[N - 1][C];
}
```

ä¸Šè¿°åšæ³•ä¸ºå¸¸è§„å†™æ³•ï¼Œå…¶æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦å‡ä¸ºO(N*C)è§‚å¯Ÿè¿™ä¸ªçŠ¶æ€æ–¹ç¨‹å¯ä»¥å‘ç°ï¼Œdpæ•°ç»„æ±‚è§£æ—¶ï¼Œæ¯ä¸€è¡Œçš„çŠ¶æ€å®é™…ä¸Šåªä¼šä¾èµ–ä¸ä¸Šä¸€è¡Œçš„çŠ¶æ€ï¼Œå› æ­¤å¯ä»¥å¯ä»¥ç®€åŒ–dpæ•°ç»„ï¼Œé‡‡ç”¨åªæœ‰ä¸¤è¡Œçš„æ–¹å¼è¿›è¡Œï¼š

```java
//0-1èƒŒåŒ…(ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–)
public int baseBackpackOp(int[] w, int[] v, int N, int C) {
    int[][] dp = new int[2][C + 1];
    for (int i = 0; i <= C; i++) {
        dp[0][i] = i >= w[0] ? v[0] : 0;
    }
    for (int i = 1; i < N; i++) {
        for (int j = 0; j <= C; j++) {
            int cur = i % 2;
            int past = cur ^ 1;
            if (j < w[i]) {
                dp[cur][j] = dp[past][j];
            } else {
                dp[cur][j] = Math.max(dp[past][j], dp[past][j - w[i]] + v[i]);
            }
        }
    }
    return dp[(N - 1) % 2][C];
}
```

è¿™ä¸ªæ–¹æ³•æ—¶é—´å¤æ‚åº¦ä¾ç„¶ä¸ºO(N * C)ï¼Œä½†å…¶ç©ºé—´å¤æ‚åº¦ä¸ºO(2N)

å†æƒ³çš„æç«¯ä¸€äº›ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥æŠŠdpæ•°ç»„ä¼˜åŒ–æˆä¸€ç»´æ•°ç»„ï¼Œæ¯æ¬¡ç›´æ¥åœ¨ä¸Šä¸€è¡Œæ•°ç»„ä¸Šæ›´æ–°ä¸‹ä¸€è¡Œçš„æ•°æ®ï¼Œè¿™æ ·æœ‰ä¸ªå°å‘ï¼Œé‚£å°±æ˜¯ï¼ŒçŠ¶æ€æ–¹ç¨‹éœ€è¦å–`dp[i - 1][j - w[]]`è¿™ä¸ªä¸­é—´å€¼ï¼Œå¦‚æœæŒ‰ç…§æ­£å¸¸çš„é€»è¾‘ä»0å‘Céå†ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½å¯¼è‡´æ‰€éœ€æ‹¿åˆ°çš„ç¬¬`j - w[i]`ä¸ªå…ƒç´ å·²ç»è¢«æœ¬è¡Œæ›´æ–°è¿‡ï¼Œä¸å†ä¸Šä¸Šä¸€è¡Œçš„æ•°æ®äº†ï¼Œè¿™æ ·å°±ä¼šå‡ºé”™ï¼Œé‚£å°±æ¢ä¸ªæ€è·¯ï¼Œä»Cå‘0éå†ï¼Œè¿™æ ·ï¼Œè¿™ç§é¡ºåºä¸‹ï¼Œç¬¬`j - w[i]`ä¸ªå…ƒç´ ç»å¯¹æ˜¯æ²¡æœ‰è¢«æ›´æ–°è¿‡çš„â€œä¸Šä¸€è¡Œå…ƒç´ â€ï¼Œä»£ç å¦‚ä¸‹ï¼š

```java
//0-1èƒŒåŒ…(ç©ºé—´å¤æ‚åº¦äºŒæ¬¡ä¼˜åŒ–)
public int baseBackpackOpMore(int[] w, int[] v, int N, int C) {
    int[] dp = new int[C + 1];
    for (int i = 0; i <= C; i++) {
        dp[i] = i >= w[0] ? v[0] : 0;
    }
    for (int i = 1; i < N; i++) {
        for (int j = C; j >= 0; j--) {
            if (j >= w[i]) {
                dp[j] = Math.max(dp[j], dp[j - w[i]] + v[i]);
            }
            if (j == C && i == N - 1) {
                break;
            }
        }
    }
    return dp[C];
}
```

â€‹		è¿™ä¸ªç®—æ³•çš„ç©ºé—´å¤æ‚åº¦å°±è¿›ä¸€æ­¥ä¼˜åŒ–ä¸ºO(N)ï¼Œå½“ç„¶ï¼Œæ—¶é—´å¤æ‚åº¦ä¾ç„¶ç»´æŒO(N * C)ä¸å˜ã€‚

> å®Œå…¨èƒŒåŒ…é—®é¢˜

ä¸0-1èƒŒåŒ…ç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨ä¸ï¼Œå®Œå…¨èƒŒåŒ…é—®é¢˜æ¯ä¸€ä»¶ç‰©å“éƒ½æœ‰æ— é™ä»¶ï¼Œå¯ä»¥æ— é™å–ï¼Œç»“æœä»ç„¶æ˜¯Nä»¶ç‰©å“è£…å…¥å®¹é‡ä¸ºCçš„èƒŒåŒ…ã€‚

æŒ‰æƒ¯ä¾‹ï¼Œå…ˆæ¥ä¸ªæ ‡å‡†çš„çŠ¶æ€æ–¹ç¨‹ï¼š

```java
dp[i][j] = max(dp[i-1][j], dp[i-1][j-w[i]+v[i]], dp[i-1][j-2*w[i]+2*v[i]], ...]
```

è¿™ä¹ˆæ¥çœ‹æ˜¯è¦åœ¨0-1èƒŒåŒ…çš„åŸºç¡€ä¸Šå†åŠ ä¸€å±‚å¾ªç¯ï¼Œæ—¶é—´å¤æ‚åº¦ç¬é—´çˆ†ç ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åšç®€åŒ–ï¼Œä¸Šé¢çš„å¼å­å¾€å‰é€€ä¸€æ­¥ï¼š

```java
dp[i][j-w[i]] = max(dp[i-1][j-w[i]], dp[i-1][j-2*w[i]+v[i]], dp[i-1][j-3*w[i]+2*v[i]], ...]
```

è”ç«‹ä¸¤å¼ï¼Œå¯å¾—ï¼Œ`dp[i][j-w[i]]+v[i]ä»£æ›¿1å¼ä¸­çš„ååŠæ®µ`åˆ™æœ‰ï¼š

```java
dp[i][j] = max(dp[i-1][j], dp[i][j-w[i]] + v[i])
```

è¿™ä¹ˆçŒ›ä¸€çœ‹ï¼Œä¸å°±å‰é¢æ­£å¸¸01èƒŒåŒ…é—®é¢˜çš„é€»è¾‘ä¸€æ ·å—ï¼Œå…¶å®è¿˜æ˜¯æœ‰ä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œä¸åŒç‚¹å°±åœ¨äºï¼Œè¿™ä¸€æ¬¡å†…å¾ªç¯ä¸å†ç”±åå‘å‰ï¼Œè€Œæ˜¯ä¿æŒæ­£åºï¼š

```java
public int completeBackpackOpMore(int[] w, int[] v, int N, int C) {
    int[] dp = new int[C + 1];
    for (int i = 0; i < N; i++) {
        for (int j = w[i]; j <= C; j++) {
            dp[j] = Math.max(dp[j], dp[j - w[i]] + v[i]);
        }
    }
    return dp[C];
}
```

å¦‚å›¾å³å¯ï¼Œè¿™é‡Œè¾¹éšè—é€»è¾‘åœ¨äºï¼Œå¯¹äº01èƒŒåŒ…é—®é¢˜ï¼Œå€’åºéå†å¯ä»¥ä¿è¯æ¯æ¬¡éå†åˆ°çš„dp[i]å€¼éƒ½æ˜¯ä¸Šä¸€è¡Œä»¥åŠè®¡ç®—å®Œæ¯•çš„ä¸­é—´é‡ï¼Œä½†æ­£åºæƒ…å†µä¸‹ï¼Œåˆ™å„ä¸ªç‰©å“éƒ½å¯èƒ½å‡ºç°ä¸¤æ¬¡æˆ–ä¸¤æ¬¡ä»¥ä¸Šï¼Œå³æ»¡è¶³äº†ä¸Šè¿°è¦æ±‚ã€‚

> å¤šé‡èƒŒåŒ…

ç»§ç»­å˜æ›´æ¡ä»¶ï¼Œæ¯ä¸€ä»¶ç‰©å“éƒ½æœ‰å›ºå®šæ•°é‡ï¼Œå†æ¬¡åŸºç¡€ä¸Šï¼Œé‡æ–°è®¡ç®—å¯å®¹é‡ä¸ºCçš„èƒŒåŒ…æ‰€èƒ½å®¹çº³ç‰©å“çš„æœ€é«˜ä»·å€¼ï¼Œè¿™æ ·å…¶å®ç®€å•äº†ï¼Œæˆ‘ä»¬çš„çŠ¶æ€æ–¹ç¨‹å¦‚ä¸‹ï¼š

```java
dp[i][j] = max(dp[i-1][j] + dp[i-1][j-k * w[i]] + k * v[i](1 <= k <= nums[i]))
```

åŒæ ·çš„ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥åšä¸€ç»´åŒ–å¤„ç†ï¼š

```java
public int multipleBackpack(int[] w, int[] v, int[] c, int N, int C) {
    int[] dp = new int[C + 1];
    for (int i = 0; i < N; i++) {
        for (int j = C; j >= w[i]; j--) {
            for (int k = 1; k <= c[i] && k * w[i] <= j; k++) {
                dp[j] = Math.max(dp[j], dp[j-w[i]] + k * v[i]);
            }
        }
    }
    return dp[C];
}
```

2. å­—ç¬¦ä¸²é—®é¢˜

> æœ€é•¿å›æ–‡å­ä¸²

LC.5 

```
ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œæ‰¾åˆ° s ä¸­æœ€é•¿çš„å›æ–‡å­ä¸²ã€‚

Â 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šs = "babad"
è¾“å‡ºï¼š"bab"
è§£é‡Šï¼š"aba" åŒæ ·æ˜¯ç¬¦åˆé¢˜æ„çš„ç­”æ¡ˆã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šs = "cbbd"
è¾“å‡ºï¼š"bb"
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šs = "a"
è¾“å‡ºï¼š"a"
ç¤ºä¾‹ 4ï¼š

è¾“å…¥ï¼šs = "ac"
è¾“å‡ºï¼š"a"

æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-palindromic-substring
è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

æœ¬ä½“é‡‡ç”¨DPåšæ³•ï¼ŒçŠ¶æ€å˜é‡å®šä¹‰ä¸ºï¼š

```
dp[i][j] : booleanå€¼ï¼Œè¡¨ç¤ºä»iåˆ°jçš„å­ä¸²æ˜¯å¦ä¸ºå›æ–‡
```

å¯¹åº”çŠ¶æ€æ–¹ç¨‹ä¸º

```
dp[i][j] = true (s[i] == s[j] && ((j - i < 2) || dp[i+1][j-1]))
		 = false (else)
```

å¯¹åº”ä»£ç å¦‚ä¸‹ï¼š

```java
public String longestPalindrome(String s) {
    if (s == null || s.length() <= 1) {
        return s;
    }
    boolean[][] dp = new boolean[s.length()][s.length()];
    for (int i = 0; i < s.length(); i++) {
        dp[i][i] = true;
    }
    int resLength = 1;
    int resStart = 0;
    int resEnd = 0;
    for (int i = 1; i < s.length(); i++) {
        for (int j = 0; j + i < s.length(); j++) {
            int k = j + i;
            if ((k == j + 1 || dp[j + 1][k - 1]) && s.charAt(j) == s.charAt(k)) {
                dp[j][k] = true;
                if (k - j + 1 >= resLength) {
                    resStart = j;
                    resEnd = k;
                    resLength = k - j + 1;
                }
            }
        }
    }
    return s.substring(resStart, resEnd + 1);
}
```

3. ç½‘æ ¼é—®é¢˜

> LC 62 ä¸åŒè·¯å¾„

```
ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª m x nÂ ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ ï¼‰ã€‚

é—®æ€»å…±æœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šm = 3, n = 7
è¾“å‡ºï¼š28
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šm = 3, n = 2
è¾“å‡ºï¼š3
è§£é‡Šï¼š
ä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ€»å…±æœ‰ 3 æ¡è·¯å¾„å¯ä»¥åˆ°è¾¾å³ä¸‹è§’ã€‚
1. å‘å³ -> å‘å³ -> å‘ä¸‹
2. å‘å³ -> å‘ä¸‹ -> å‘å³
3. å‘ä¸‹ -> å‘å³ -> å‘å³
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šm = 7, n = 3
è¾“å‡ºï¼š28
ç¤ºä¾‹ 4ï¼š

è¾“å…¥ï¼šm = 3, n = 3
è¾“å‡ºï¼š6
```

è¿™ä¸ªé¢˜å°±æ¯”è¾ƒæ–°é²œä¸€äº›äº†ï¼Œç§˜è¯€åœ¨äºè¿™ç§ç½‘æ ¼èµ°æ³•çš„é¢˜ç›®ï¼ŒçŠ¶æ€å˜é‡è®¾ä¸ºï¼š

```
dp[i]j[j] : i * jå¤§å°çš„ç½‘æ ¼ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’æœ‰å¤šå°‘ç§èµ°æ³•
```

è¿™ç§æƒ…å†µä¸‹ï¼Œä¸€èˆ¬åªéœ€è¦è€ƒè™‘`dp[i][j]`ä¸`dp[i - 1][j]`ä»¥åŠ`dp[i][j - 1]`ä»¥åŠ`dp[i - 1][j - 1]`ä¹‹é—´çš„å…³ç³»ã€‚

åœ¨æœ¬é¢˜ä¸­ï¼ŒçŠ¶æ€æ–¹ç¨‹å¦‚ä¸‹ï¼š

```
dp[i][j] = dp[i-1][j] + dp[i][j-1] (i > =1 && j > = 1)
		 = 1 (i == 0 || j == 0)
```

è¿™ä¸ªå¯ä»¥éå¸¸å®¹æ˜“çš„æƒ³åˆ°ï¼šåœ¨ä¸€ä¸ªi * jå¤§å°çš„ç½‘æ ¼ä¸­ï¼Œä»(0, 0)åˆ°(i - 1, j - 1)å½“å‰å…¨éƒ¨è·¯å¾„ä¸­ï¼ˆä»…å¯å‘å³æˆ–è€…å‘ä¸‹ï¼‰ï¼Œå¯ä»¥æ˜ç¡®åˆ†ä¸ºä¸¤ç±»ï¼šå³1ï¼šä»(0, 0)åˆ°(i-1, j-2)è€Œååˆ°(i-1, j-1)ï¼Œ2ï¼šä»(0, 0)åˆ°(i - 2, j - 1)è€Œååˆ°(i - 1, j - 1)ã€‚

ä»£ç å¦‚ä¸‹(ç»è¿‡ä¸€ç»´ä¼˜åŒ–)ï¼š

```java
public int uniquePaths1(int m, int n) {
    int[] dp = new int[n];
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            if (i == 0 || j == 0) {
                dp[j] = 1;
            } else {
                dp[j] += dp[j - 1];
            }
        }
    }
    return dp[n - 1];
}
```



3. åŒ¹é…é—®é¢˜ï¼ˆå›°éš¾ï¼‰

> é›¶é’±å…‘æ¢

LC.322

```

ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚

ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚

```

è¿™ä¸ªé¢˜ç›®çœ‹ä¼¼æœ‰ç‚¹åƒèƒŒåŒ…é—®é¢˜ï¼Œä½†å…¶å®å› ä¸ºè¦æ±‚å¿…é¡»å‡‘å¤Ÿä¸€ä¸ªæ€»é‡‘é¢(ä¸èƒ½å¤šï¼Œä¹Ÿä¸èƒ½å°‘)ï¼Œæ‰€ä»¥çŠ¶æ€æ–¹ç¨‹åŠçŠ¶æ€å˜é‡æ˜¯æœ‰å˜åŒ–çš„ï¼š

```
çŠ¶æ€å˜é‡ï¼šdp[i] æ€»é‡‘é¢ä¸ºiæ˜¯æœ€å°‘éœ€è¦çš„ç¡¬å¸æ•°é‡
çŠ¶æ€æ–¹ç¨‹ï¼š
dp[i] = min(dp[i - coins[j]] + 1 when j = 1..n)
dp[0] = 0;
è¿™ä¸ªæ€è·¯ç®—æ˜¯æœ‰ç‚¹é€†å‘çš„æ„æ€ï¼Œå…³é”®æ§åˆ¶å˜é‡ä¸ºæœ€åä¸€ä¸ªç¡¬å¸é€‰å“ªä¸€ä¸ªé¢å€¼ï¼Œå‡å»ä¸åŒé¢å€¼æ‰€éœ€æ•°é‡çš„æœ€å°å€¼å†åŠ 1å°±å¯ä»¥å¾—åˆ°æœ€ç»ˆçš„ç»“æœäº†ã€‚
```

ä»£ç å¦‚ä¸‹ï¼š

```java
public int coinChange(int[] coins, int amount) {
    if (amount == 0) {
        return 0;
    }

    int[] dp = new int[amount + 1];
    //è¿™é‡Œåˆä¸ªå°å‘ï¼Œä¸ºä»€ä¹ˆè¦èµ‹å€¼ä¸ºamount+1å‘¢ï¼Œè¿™æ˜¯å› ä¸ºæœ¬é¢˜çš„åœºæ™¯ä¸­å­˜åœ¨ä¸€ç§æ— è®ºå¦‚ä½•éƒ½æ— æ³•æ°å¥½é…æ»¡ç›®æ ‡å€¼çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦ä¸€ä¸ªç‰¹å®šçš„å˜é‡æ¥è¡¨ç¤ºï¼Œå¾ˆæ˜¾ç„¶ï¼Œamount+1è¿™ä¸ªæ•°é‡çš„ç¡¬å¸æ€»é¢å¿…ç„¶æ˜¯å¤§äºamountçš„ï¼Œæ‰€ä»¥é€‰å–è¯¥å€¼ä¸€å®šæ˜¯å®‰å…¨çš„ã€‚
    Arrays.fill(dp, amount + 1);
    dp[0] = 0;
    for (int i = 1; i <= amount; i++) {
        for (int j = 0; j < coins.length; j++) {
            if (i - coins[j] >= 0) {
                dp[i] = Math.min(dp[i], dp[i - coins[j]] + 1);
            }
        }
    }
    //æœ€åå°±ç”¨æ ¹æ®ä¹‹å‰å®šä¹‰å¥½çš„éæ³•å€¼amount+1æ¥åˆ¤å®šæ˜¯å¦éœ€è¦è¿”å›-1äº†ã€‚
    return dp[amount] == amount + 1? -1 :dp[amount];
}
```

> ç»„åˆæ€»å’Œ

LC. 377

```
ç»™å®šä¸€ä¸ªç”±æ­£æ•´æ•°ç»„æˆä¸”ä¸å­˜åœ¨é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œæ‰¾å‡ºå’Œä¸ºç»™å®šç›®æ ‡æ­£æ•´æ•°çš„ç»„åˆçš„ä¸ªæ•°ã€‚

ç¤ºä¾‹:

nums = [1, 2, 3]
target = 4

æ‰€æœ‰å¯èƒ½çš„ç»„åˆä¸ºï¼š
(1, 1, 1, 1)
(1, 1, 2)
(1, 2, 1)
(1, 3)
(2, 1, 1)
(2, 2)
(3, 1)

è¯·æ³¨æ„ï¼Œé¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆã€‚

å› æ­¤è¾“å‡ºä¸º 7ã€‚
```

è¿™ä¸ªé¢˜çš„çŠ¶æ€é€‰æ³•å’Œä¸Šä¸€ä¸ªé›¶é’±å…‘æ¢å¾ˆåƒï¼š

```
çŠ¶æ€å˜é‡ï¼šdp[i] æ€»å’Œä¸ºiçš„ç»„åˆä¸ªæ•°
çŠ¶æ€æ–¹ç¨‹ï¼šdp[i] = sum(dp[i - num[k], k = 1..n])(nä¸ºæ•°å­—æ€»æ•°)
```

å¦‚æ­¤ä»£ç å°±å¾ˆç®€å•äº†ï¼š

```java
public int combinationSum4(int[] nums, int target) {
    int[] dp = new int[target + 1];
    dp[0] = 1;
    for (int i = 1; i < target + 1; i++) {
        int res = 0;
        for (int j = 0; j < nums.length; j++) {
            if (nums[j] <= i) {
                res += dp[i - nums[j]];
            }
        }
        dp[i] = res;
    }
    return dp[target];
}
```

> æœ€é•¿é€’å¢å­åºåˆ—

```
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°å…¶ä¸­æœ€é•¿ä¸¥æ ¼é€’å¢å­åºåˆ—çš„é•¿åº¦ã€‚

å­åºåˆ—æ˜¯ç”±æ•°ç»„æ´¾ç”Ÿè€Œæ¥çš„åºåˆ—ï¼Œåˆ é™¤ï¼ˆæˆ–ä¸åˆ é™¤ï¼‰æ•°ç»„ä¸­çš„å…ƒç´ è€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºã€‚ä¾‹å¦‚ï¼Œ[3,6,2,7] æ˜¯æ•°ç»„ [0,3,1,6,2,2,7] çš„å­åºåˆ—ã€‚

Â 
ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [10,9,2,5,3,7,101,18]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ€é•¿é€’å¢å­åºåˆ—æ˜¯ [2,3,7,101]ï¼Œå› æ­¤é•¿åº¦ä¸º 4 ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [0,1,0,3,2,3]
è¾“å‡ºï¼š4
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnums = [7,7,7,7,7,7,7]
è¾“å‡ºï¼š1
```

```
çŠ¶æ€å˜é‡ï¼šdp[i] ä»¥ä¸‹æ ‡ä¸ºiçš„æ•°ç»“å°¾é€’å¢å­åºåˆ—é•¿åº¦
çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šdp[i] = max(dp[j] + 1) (j = 0..i-1 && nums[j] < nums[i])
è§£æï¼š
è¿™é‡Œçš„ç†è§£æ€è·¯åœ¨äºï¼šä»¥nums[i]ç»“å°¾çš„é€’å¢å­åºåˆ—ï¼Œè€ƒè™‘å€’æ•°ç¬¬äºŒä¸ªæ•°çš„å–å€¼ï¼Œå°è¯•å»ä¸åŒçš„å€¼ï¼Œä¿è¯æ»¡è¶³é€’å¢çš„å‰æä¸‹ï¼Œå–æœ€å¤§å€¼+1ï¼Œå³å¯å¾—åˆ°dp[i]
```

ä»£ç å¦‚ä¸‹ï¼š

```java
public int lengthOfLIS(int[] nums) {
    if (nums == null || nums.length == 0) {
        return 0;
    }
    int[] dp = new int[nums.length];
    Arrays.fill(dp, 1);
    for (int i = 1; i < nums.length; i++) {
        for (int j = 0; j < i; j++) {
            if (nums[i] > nums[j]) {
                dp[i] = Math.max(dp[j] + 1, dp[i]);
            }
        }
    }
    int res = 0;
    for (int value : dp) {
        res = Math.max(res, value);
    }
    return res;
}
```

# è¿½åŠ ï¼šéš¾é¢˜æ€»ç»“

æ¥é›¨æ°´ï¼š

```
ç»™å®š n ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

```

**åˆ†æ**ï¼šè¿™ä¸ªé¢˜æœ€å¥½çš„æ–¹æ³•æ˜¯å•è°ƒæ ˆï¼Œå•è°ƒæ ˆé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å†…éƒ¨ä»æ ˆåº•åˆ°æ ˆé¡¶ï¼Œç»´æŒå•è°ƒé€’å¢/å‡çš„æ ˆï¼Œè¿™ä¸ªé¢˜ç›®ä¸­çš„åº”ç”¨æ€è·¯å¦‚ä¸‹ï¼š
åœ¨ç»´æŠ¤äº†ä¸€ä¸ªä»æ ˆåº•åˆ°æ ˆé¡¶é€æ¸é€’å‡çš„æ ˆçš„åŸºç¡€ä¸Šï¼Œå¦‚æœå‘ç°ä¸€ä¸ªæ¯”å½“å‰æ ˆé¡¶å…ƒç´ (ä½™ä¸‹ç§°ä¸ºbot)è¿˜è¦é«˜çš„æŸ±å­(ä¸€ä¸‹ç§°ä¸ºcur)ï¼Œé‚£ä¹ˆä»¥botä¸ºåº•ï¼Œcurä»¥åŠbotçš„ä¸Šä¸€ä¸ªå…ƒç´ ä¸ºé¡¶çš„æ± å­å°±å‡ºç°äº†ï¼Œå¯ä»¥å‚ä¸ä¸€æ¬¡è€ƒå¯Ÿï¼Œä¹‹åå¯ä»¥å§botå‡ºæ ˆï¼Œè¿™ä¸ªæ—¶å€™å¾ªç¯ä¸Šè¿°é€»è¾‘ï¼Œå°è¯•ä»¥botçš„ä¸Šä¸€ä¸ªå…ƒç´ ä¸ºåº•ï¼Œå†æ¬¡è€ƒå¯Ÿã€‚

ä»£ç å¦‚ä¸‹ï¼š

```java
class Solution {
    public int trap(int[] height) {
        Stack<Integer> stack = new Stack();
        int idx = 0, res = 0;
        while (idx < height.length) {
            while (!stack.isEmpty() && height[stack.peek()] < height[idx]) {
                int bot = stack.pop();
                if (stack.isEmpty()) {
                    break;
                }         
                int len = idx - stack.peek() - 1;
                res += len * (Math.min(height[stack.peek()], height[idx]) - height[bot]);
            }
            stack.push(idx++);
        }
        return res;
    }
}
```



